<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kristine Joy Paas">
<meta name="dcterms.date" content="2024-04-16">

<title>ISSS608 - Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Hands-on Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercises">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Exs/Ex1/Hands-on_Ex1.html" rel="" target="">
 <span class="dropdown-text">1: A Layered Grammar of Graphics: ggplot2 methods</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Exs/Ex2/Hands-on_Ex2.html" rel="" target="">
 <span class="dropdown-text">2: Beyond ggplot Fundamentals</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">In-class Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercises">    
        <li>
    <a class="dropdown-item" href="../../In-class_Exs/Ex1/In-class_Ex1.html" rel="" target="">
 <span class="dropdown-text">1: Introduction to Visual Analytics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Exs/Ex2/In-class_Ex2.html" rel="" target="">
 <span class="dropdown-text">2: ggplot</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Take-home Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercises">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Exs/Ex1/Take-home_Ex1.html" rel="" target="">
 <span class="dropdown-text">1: Creating data visualisation beyond default</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Exs/Ex2/Take-home_Ex2.html" rel="" target="">
 <span class="dropdown-text">2: DataVis Makeover</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">1 Overview</a>
  <ul class="collapse">
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background">1.1 Background</a></li>
  <li><a href="#loading-the-data-sources" id="toc-loading-the-data-sources" class="nav-link" data-scroll-target="#loading-the-data-sources">1.2 Loading the data sources</a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">1.3 Methodology</a></li>
  </ul></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">2 Setup</a>
  <ul class="collapse">
  <li><a href="#loading-the-r-packages" id="toc-loading-the-r-packages" class="nav-link" data-scroll-target="#loading-the-r-packages">2.1 Loading the R packages</a></li>
  <li><a href="#data-checkpoints" id="toc-data-checkpoints" class="nav-link" data-scroll-target="#data-checkpoints">2.2 Data Checkpoints</a></li>
  </ul></li>
  <li><a href="#data-wrangling" id="toc-data-wrangling" class="nav-link" data-scroll-target="#data-wrangling">3 Data Wrangling</a>
  <ul class="collapse">
  <li><a href="#importing-the-datasets" id="toc-importing-the-datasets" class="nav-link" data-scroll-target="#importing-the-datasets">3.1 Importing the datasets</a></li>
  <li><a href="#combining-the-dataframes" id="toc-combining-the-dataframes" class="nav-link" data-scroll-target="#combining-the-dataframes">3.2 Combining the dataframes</a></li>
  <li><a href="#filtering-relevant-columns" id="toc-filtering-relevant-columns" class="nav-link" data-scroll-target="#filtering-relevant-columns">3.3 Filtering relevant columns</a></li>
  <li><a href="#closer-look-at-number_of_units" id="toc-closer-look-at-number_of_units" class="nav-link" data-scroll-target="#closer-look-at-number_of_units">3.4 Closer look at NUMBER_OF_UNITS</a></li>
  <li><a href="#handling-the-bulk-transactions" id="toc-handling-the-bulk-transactions" class="nav-link" data-scroll-target="#handling-the-bulk-transactions">3.5 Handling the bulk transactions</a></li>
  </ul></li>
  <li><a href="#data-exploration" id="toc-data-exploration" class="nav-link" data-scroll-target="#data-exploration">4 Data Exploration</a>
  <ul class="collapse">
  <li><a href="#comparing-2023q1-and-2024q1-prices" id="toc-comparing-2023q1-and-2024q1-prices" class="nav-link" data-scroll-target="#comparing-2023q1-and-2024q1-prices">4.1 Comparing 2023Q1 and 2024Q1 prices</a>
  <ul class="collapse">
  <li><a href="#creating-the-base-visualization" id="toc-creating-the-base-visualization" class="nav-link" data-scroll-target="#creating-the-base-visualization">4.1.2 Creating the base Visualization</a></li>
  <li><a href="#generating-the-visualization" id="toc-generating-the-visualization" class="nav-link" data-scroll-target="#generating-the-visualization">4.2.2 Generating the visualization</a></li>
  </ul></li>
  <li><a href="#sales-volume" id="toc-sales-volume" class="nav-link" data-scroll-target="#sales-volume">4.2 Sales Volume</a></li>
  <li><a href="#diving-deep-into-the-2024-q1-market" id="toc-diving-deep-into-the-2024-q1-market" class="nav-link" data-scroll-target="#diving-deep-into-the-2024-q1-market">4.3 Diving deep into the 2024 Q1 Market</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">5 Summary</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">6 References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kristine Joy Paas </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 16, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">April 21, 2024</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="overview" class="level1">
<h1>1 Overview</h1>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">1.1 Background</h2>
<p>Singapore has one of the highest home ownership rates in the world at 89.7%, <a href="https://tradingeconomics.com/country-list/home-ownership-rate?continent=g20">2nd only to Russia among the G20</a> countries. Due to Singapore’s successful public housing program, <a href="13+ Housing &amp; Household Statistics in Singapore (2024)">77.8% of Singapore residents live in HDB flats</a>, while 22% live in private properties like condos or landed properties.</p>
<p>While the HDB market targets Singaporeans with household income of up to 14,000 SGD, the private housing market is Singapore is still in demand for households looking to upgrade, invest their property, and for residents not eligible for public housing (e.g.&nbsp;high income household, foreigners, etc.)</p>
<p>In this exercise we will look at the market trends for private residential property market for 2024 Q1 and see how the economic factors have affected it.</p>
</section>
<section id="loading-the-data-sources" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-data-sources">1.2 Loading the data sources</h2>
<p>For this exercise, we will use the residential real estate transaction data from <a href="https://www.ura.gov.sg/reis/index">REALIS</a>. This provides comprehensive and up-to-date statistics on the private property market in Singapore.</p>
<p>The dataset has been provided via eLearn and added to the <code>data/</code> folder of this exercise.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
File Structure
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="images/file_structure.png" class="img-fluid"></p>
</div>
</div>
</div>
<p>For the purposes of this exercise, we will refer to each data as the following:</p>
<ul>
<li><p><strong>2023Q1</strong>: <code>ResidentialTransaction20240308160536.csv</code></p></li>
<li><p><strong>2023Q2</strong>: <code>ResidentialTransaction20240308160736.csv</code></p></li>
<li><p><strong>2023Q3</strong>: <code>ResidentialTransaction20240308161009.csv</code></p></li>
<li><p><strong>2023Q4</strong>: <code>ResidentialTransaction20240308161109.csv</code></p></li>
<li><p><strong>2024Q1</strong>: <code>ResidentialTransaction20240414220633.csv</code></p></li>
</ul>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">1.3 Methodology</h2>
<p>To start the data analysis, we first need to prepare the R environment for analysis. This includes loading the R packages and loading the datasets.</p>
<p>After the setup, we need to do data wrangling where we clean and transform the data into a form that is fitting for our analysis. This will possible entail removing irrelevant data, deriving additional variables, renaming columns, etc.</p>
<p>Next, we need to decide on what data we would like to look at closely. For the purposes of this exercise, these are the data we can look at that can potentially give valuable insights:</p>
<ul>
<li><p>Total units sold by quarter</p></li>
<li><p>Units sold by submarkets such as property type (e.g.&nbsp;landed, strata), sale type (e.g.&nbsp;resale, new sale, subsale), etc.</p></li>
<li><p>Transaction price by submarkets such property type (e.g.&nbsp;landed, strata), sale type (e.g.&nbsp;resale, new sale, subsale), etc.</p></li>
</ul>
<p>Finally, we will do data exploration and visualize the insights gained from the data. Some of the questions we would ask are:</p>
<ul>
<li><p>What is the general quarterly trend of private residential property sales prices?</p></li>
<li><p>Is this trend consistent among all submarkets?</p></li>
<li><p>How affordable are private residential properties for Singaporean households?</p></li>
</ul>
</section>
</section>
<section id="setup" class="level1">
<h1>2 Setup</h1>
<section id="loading-the-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-r-packages">2.1 Loading the R packages</h2>
<p>For this exercise, we will mainly use the following packages:</p>
<ul>
<li><a href="https://www.tidyverse.org/">tidyverse</a>: collection of R packages used in data science, which includes <a href="https://ggplot2.tidyverse.org/">ggplot2</a>, <a href="https://tibble.tidyverse.org/">tibble</a>, <a href="https://readr.tidyverse.org/">readr</a>, among others</li>
<li>ggtext: Enhanced text formating</li>
<li>ggdist: half_eye plot</li>
</ul>
<p>Aside from these, we will also include other packages that will help us present the data better.</p>
<ul>
<li><a href="https://www.rdocumentation.org/packages/knitr/versions/1.45">knitr</a>: used for dynamic report generation in R. For this exercise, we will use this package to render our tables better.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(knitr, tidyverse, patchwork, ggdist, ggtext, ggpubr, treemapify)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-checkpoints" class="level2">
<h2 class="anchored" data-anchor-id="data-checkpoints">2.2 Data Checkpoints</h2>
<p>As the analysis is expected to have a lot of intermediate steps, <strong>Save</strong>, <strong>Load</strong>, and <strong>Data clear</strong> points are available to make our data wrangling more efficient.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Save point
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is where data is written as <code>rds</code> files using <code>write_rds()</code> for important data sets that will be used in later analysis. Examples are:</p>
<ul>
<li>Data we need to prepare for analysis</li>
<li>Critical outputs of expensive calculations</li>
<li>Cleaned up data for lightweight processing</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Load point
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is where data is loaded from <code>rds</code> files using <code>read_rds()</code>. They were previously generated by the save point.</p>
<p><strong>TIP</strong>: Skip to the load points to progress without running the code above it</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Data clear point
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is where data that will not be used anymore are cleared. The data in RStudio environment will pile up and will make it more difficult to check the relevant data in each part.</p>
<p>We can set <code>#| eval: false</code> in code chunks if we want skip the clearing. For example, the code below won’t be run.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>message <span class="ot">&lt;-</span> <span class="st">"This code chunk executed"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>To use these checkpoints, we need to create <code>data/rds</code> folder.</p>
</section>
</section>
<section id="data-wrangling" class="level1">
<h1>3 Data Wrangling</h1>
<section id="importing-the-datasets" class="level2">
<h2 class="anchored" data-anchor-id="importing-the-datasets">3.1 Importing the datasets</h2>
<p>Upon inspection of the csv files, column names have human-readable titles such as “Project Name”, “Transacted Price ($)”, etc. While good for humans, these column names may cause parsing issues with R, especially as there are special characters.</p>
<p>Because of this, we will rename the columns in their UPPER_CASE format after removing the special characters. We will create a helper function that will help us accomplish this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>rename_realis_column <span class="ot">&lt;-</span> <span class="cf">function</span>(orig_name) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add underscores to spaces</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(<span class="st">" +"</span>, <span class="st">"_"</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>       <span class="co"># Remove special characters</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">gsub</span>(<span class="st">"[^A-Z ]"</span>, <span class="st">""</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Convert to upper case and remove trailing spaces</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">toupper</span>(orig_name)) <span class="sc">%&gt;%</span> <span class="fu">trimws</span>())</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will use <code>read_csv()</code> to import each file and use <code>rename_realis_column()</code> in the <code>rename_with()</code> function.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">2023 Q1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">2023 Q2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">2023 Q3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">2023 Q4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false">2024 Q1</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>realis_2023q1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/ResidentialTransaction20240308160536.csv'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">rename_with</span>(rename_realis_column)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(realis_2023q1, <span class="at">n=</span><span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">PROJECT_NAME</th>
<th style="text-align: right;">TRANSACTED_PRICE</th>
<th style="text-align: right;">AREA_SQFT</th>
<th style="text-align: right;">UNIT_PRICE_PSF</th>
<th style="text-align: left;">SALE_DATE</th>
<th style="text-align: left;">ADDRESS</th>
<th style="text-align: left;">TYPE_OF_SALE</th>
<th style="text-align: left;">TYPE_OF_AREA</th>
<th style="text-align: right;">AREA_SQM</th>
<th style="text-align: right;">UNIT_PRICE_PSM</th>
<th style="text-align: left;">NETT_PRICE</th>
<th style="text-align: left;">PROPERTY_TYPE</th>
<th style="text-align: right;">NUMBER_OF_UNITS</th>
<th style="text-align: left;">TENURE</th>
<th style="text-align: left;">COMPLETION_DATE</th>
<th style="text-align: left;">PURCHASER_ADDRESS_INDICATOR</th>
<th style="text-align: left;">POSTAL_CODE</th>
<th style="text-align: left;">POSTAL_DISTRICT</th>
<th style="text-align: left;">POSTAL_SECTOR</th>
<th style="text-align: left;">PLANNING_REGION</th>
<th style="text-align: left;">PLANNING_AREA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">THE REEF AT KING’S DOCK</td>
<td style="text-align: right;">2317000</td>
<td style="text-align: right;">882.65</td>
<td style="text-align: right;">2625</td>
<td style="text-align: left;">01 Jan 2023</td>
<td style="text-align: left;">12 HARBOURFRONT AVENUE #05-32</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">82.0</td>
<td style="text-align: right;">28256</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 12/01/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">097996</td>
<td style="text-align: left;">04</td>
<td style="text-align: left;">09</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Merah</td>
</tr>
<tr class="even">
<td style="text-align: left;">URBAN TREASURES</td>
<td style="text-align: right;">1823500</td>
<td style="text-align: right;">882.65</td>
<td style="text-align: right;">2066</td>
<td style="text-align: left;">02 Jan 2023</td>
<td style="text-align: left;">205 JALAN EUNOS #08-02</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">82.0</td>
<td style="text-align: right;">22238</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">419535</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">41</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NORTH GAIA</td>
<td style="text-align: right;">1421112</td>
<td style="text-align: right;">1076.40</td>
<td style="text-align: right;">1320</td>
<td style="text-align: left;">02 Jan 2023</td>
<td style="text-align: left;">29 YISHUN CLOSE #08-10</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: right;">14211</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 15/02/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">269343</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">North Region</td>
<td style="text-align: left;">Yishun</td>
</tr>
<tr class="even">
<td style="text-align: left;">NORTH GAIA</td>
<td style="text-align: right;">1258112</td>
<td style="text-align: right;">1033.34</td>
<td style="text-align: right;">1218</td>
<td style="text-align: left;">02 Jan 2023</td>
<td style="text-align: left;">45 YISHUN CLOSE #07-42</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">96.0</td>
<td style="text-align: right;">13105</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 15/02/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">269294</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">North Region</td>
<td style="text-align: left;">Yishun</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PARC BOTANNIA</td>
<td style="text-align: right;">1280000</td>
<td style="text-align: right;">871.88</td>
<td style="text-align: right;">1468</td>
<td style="text-align: left;">03 Jan 2023</td>
<td style="text-align: left;">12 FERNVALE STREET #06-16</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">81.0</td>
<td style="text-align: right;">15802</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 28/12/2016</td>
<td style="text-align: left;">2022</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">797391</td>
<td style="text-align: left;">28</td>
<td style="text-align: left;">79</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Sengkang</td>
</tr>
<tr class="even">
<td style="text-align: left;">NANYANG PARK</td>
<td style="text-align: right;">5870000</td>
<td style="text-align: right;">3322.85</td>
<td style="text-align: right;">1767</td>
<td style="text-align: left;">03 Jan 2023</td>
<td style="text-align: left;">72 JALAN LIMBOK</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Land</td>
<td style="text-align: right;">308.7</td>
<td style="text-align: right;">19015</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Terrace House</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">999 yrs from 14/02/1881</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">548742</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">54</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Hougang</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PALMS @ SIXTH AVENUE</td>
<td style="text-align: right;">4950000</td>
<td style="text-align: right;">4520.88</td>
<td style="text-align: right;">1095</td>
<td style="text-align: left;">03 Jan 2023</td>
<td style="text-align: left;">231 SIXTH AVENUE</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">420.0</td>
<td style="text-align: right;">11786</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Semi-Detached House</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">2015</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">275780</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Timah</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>There are <strong>4,722</strong> private residential propertysales for 2023 Q1.</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>realis_2023q2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/ResidentialTransaction20240308160736.csv'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">rename_with</span>(rename_realis_column)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(realis_2023q2, <span class="at">n=</span><span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 7%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">PROJECT_NAME</th>
<th style="text-align: right;">TRANSACTED_PRICE</th>
<th style="text-align: right;">AREA_SQFT</th>
<th style="text-align: right;">UNIT_PRICE_PSF</th>
<th style="text-align: left;">SALE_DATE</th>
<th style="text-align: left;">ADDRESS</th>
<th style="text-align: left;">TYPE_OF_SALE</th>
<th style="text-align: left;">TYPE_OF_AREA</th>
<th style="text-align: right;">AREA_SQM</th>
<th style="text-align: right;">UNIT_PRICE_PSM</th>
<th style="text-align: left;">NETT_PRICE</th>
<th style="text-align: left;">PROPERTY_TYPE</th>
<th style="text-align: right;">NUMBER_OF_UNITS</th>
<th style="text-align: left;">TENURE</th>
<th style="text-align: left;">COMPLETION_DATE</th>
<th style="text-align: left;">PURCHASER_ADDRESS_INDICATOR</th>
<th style="text-align: left;">POSTAL_CODE</th>
<th style="text-align: left;">POSTAL_DISTRICT</th>
<th style="text-align: left;">POSTAL_SECTOR</th>
<th style="text-align: left;">PLANNING_REGION</th>
<th style="text-align: left;">PLANNING_AREA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">THE GAZANIA</td>
<td style="text-align: right;">1528000</td>
<td style="text-align: right;">678.13</td>
<td style="text-align: right;">2253</td>
<td style="text-align: left;">01 Apr 2023</td>
<td style="text-align: left;">15 HOW SUN DRIVE #02-31</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">24254</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">2022</td>
<td style="text-align: left;">N.A</td>
<td style="text-align: left;">538545</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">53</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Serangoon</td>
</tr>
<tr class="even">
<td style="text-align: left;">THE GAZANIA</td>
<td style="text-align: right;">1938000</td>
<td style="text-align: right;">958.00</td>
<td style="text-align: right;">2023</td>
<td style="text-align: left;">01 Apr 2023</td>
<td style="text-align: left;">7 HOW SUN DRIVE #01-12</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">89</td>
<td style="text-align: right;">21775</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">2022</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">538530</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">53</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Serangoon</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ONE PEARL BANK</td>
<td style="text-align: right;">2051000</td>
<td style="text-align: right;">699.66</td>
<td style="text-align: right;">2931</td>
<td style="text-align: left;">01 Apr 2023</td>
<td style="text-align: left;">1 PEARL BANK #32-16</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">31554</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 01/03/2019</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">169016</td>
<td style="text-align: left;">03</td>
<td style="text-align: left;">16</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Outram</td>
</tr>
<tr class="even">
<td style="text-align: left;">URBAN TREASURES</td>
<td style="text-align: right;">1850700</td>
<td style="text-align: right;">882.65</td>
<td style="text-align: right;">2097</td>
<td style="text-align: left;">01 Apr 2023</td>
<td style="text-align: left;">205 JALAN EUNOS #05-05</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">22570</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">419535</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">41</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HYLL ON HOLLAND</td>
<td style="text-align: right;">2021500</td>
<td style="text-align: right;">699.66</td>
<td style="text-align: right;">2889</td>
<td style="text-align: left;">01 Apr 2023</td>
<td style="text-align: left;">97 HOLLAND ROAD #10-25</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">31100</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">278541</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Timah</td>
</tr>
<tr class="even">
<td style="text-align: left;">LEEDON GREEN</td>
<td style="text-align: right;">1838000</td>
<td style="text-align: right;">785.77</td>
<td style="text-align: right;">2339</td>
<td style="text-align: left;">01 Apr 2023</td>
<td style="text-align: left;">34 LEEDON HEIGHTS #12-40</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">25178</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">266076</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Timah</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KLIMT CAIRNHILL</td>
<td style="text-align: right;">7320000</td>
<td style="text-align: right;">2055.92</td>
<td style="text-align: right;">3560</td>
<td style="text-align: left;">01 Apr 2023</td>
<td style="text-align: left;">71 CAIRNHILL ROAD #15-01</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">191</td>
<td style="text-align: right;">38325</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">229725</td>
<td style="text-align: left;">09</td>
<td style="text-align: left;">22</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Newton</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>There are <strong>6,125</strong> private residential property sales for 2023 Q2.</p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>realis_2023q3 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/ResidentialTransaction20240308161009.csv'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">rename_with</span>(rename_realis_column)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(realis_2023q3, <span class="at">n=</span><span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 9%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">PROJECT_NAME</th>
<th style="text-align: right;">TRANSACTED_PRICE</th>
<th style="text-align: right;">AREA_SQFT</th>
<th style="text-align: right;">UNIT_PRICE_PSF</th>
<th style="text-align: left;">SALE_DATE</th>
<th style="text-align: left;">ADDRESS</th>
<th style="text-align: left;">TYPE_OF_SALE</th>
<th style="text-align: left;">TYPE_OF_AREA</th>
<th style="text-align: right;">AREA_SQM</th>
<th style="text-align: right;">UNIT_PRICE_PSM</th>
<th style="text-align: left;">NETT_PRICE</th>
<th style="text-align: left;">PROPERTY_TYPE</th>
<th style="text-align: right;">NUMBER_OF_UNITS</th>
<th style="text-align: left;">TENURE</th>
<th style="text-align: left;">COMPLETION_DATE</th>
<th style="text-align: left;">PURCHASER_ADDRESS_INDICATOR</th>
<th style="text-align: left;">POSTAL_CODE</th>
<th style="text-align: left;">POSTAL_DISTRICT</th>
<th style="text-align: left;">POSTAL_SECTOR</th>
<th style="text-align: left;">PLANNING_REGION</th>
<th style="text-align: left;">PLANNING_AREA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">MYRA</td>
<td style="text-align: right;">1658000</td>
<td style="text-align: right;">667.37</td>
<td style="text-align: right;">2484</td>
<td style="text-align: left;">01 Jul 2023</td>
<td style="text-align: left;">9 MEYAPPA CHETTIAR ROAD #02-07</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">26742</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">N.A</td>
<td style="text-align: left;">358456</td>
<td style="text-align: left;">13</td>
<td style="text-align: left;">35</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Toa Payoh</td>
</tr>
<tr class="even">
<td style="text-align: left;">NORTH GAIA</td>
<td style="text-align: right;">1449000</td>
<td style="text-align: right;">1076.40</td>
<td style="text-align: right;">1346</td>
<td style="text-align: left;">01 Jul 2023</td>
<td style="text-align: left;">27 YISHUN CLOSE #10-06</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">14490</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 15/02/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">769342</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">76</td>
<td style="text-align: left;">North Region</td>
<td style="text-align: left;">Yishun</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NORTH GAIA</td>
<td style="text-align: right;">1365000</td>
<td style="text-align: right;">1076.40</td>
<td style="text-align: right;">1268</td>
<td style="text-align: left;">01 Jul 2023</td>
<td style="text-align: left;">27 YISHUN CLOSE #05-06</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">13650</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 15/02/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">769342</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">76</td>
<td style="text-align: left;">North Region</td>
<td style="text-align: left;">Yishun</td>
</tr>
<tr class="even">
<td style="text-align: left;">NORTH GAIA</td>
<td style="text-align: right;">1231000</td>
<td style="text-align: right;">958.00</td>
<td style="text-align: right;">1285</td>
<td style="text-align: left;">01 Jul 2023</td>
<td style="text-align: left;">35 YISHUN CLOSE #08-25</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">89</td>
<td style="text-align: right;">13831</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 15/02/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">769299</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">76</td>
<td style="text-align: left;">North Region</td>
<td style="text-align: left;">Yishun</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NORTH GAIA</td>
<td style="text-align: right;">1272000</td>
<td style="text-align: right;">1001.05</td>
<td style="text-align: right;">1271</td>
<td style="text-align: left;">01 Jul 2023</td>
<td style="text-align: left;">45 YISHUN CLOSE #09-45</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">13677</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 15/02/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">769294</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">76</td>
<td style="text-align: left;">North Region</td>
<td style="text-align: left;">Yishun</td>
</tr>
<tr class="even">
<td style="text-align: left;">PICCADILLY GRAND</td>
<td style="text-align: right;">3462000</td>
<td style="text-align: right;">1679.18</td>
<td style="text-align: right;">2062</td>
<td style="text-align: left;">01 Jul 2023</td>
<td style="text-align: left;">3 NORTHUMBERLAND ROAD #14-09</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">156</td>
<td style="text-align: right;">22192</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 02/08/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">219569</td>
<td style="text-align: left;">08</td>
<td style="text-align: left;">21</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Kallang</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TENET</td>
<td style="text-align: right;">1356000</td>
<td style="text-align: right;">925.70</td>
<td style="text-align: right;">1465</td>
<td style="text-align: left;">01 Jul 2023</td>
<td style="text-align: left;">71 TAMPINES STREET 62 #14-02</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">15767</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 01/11/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">529699</td>
<td style="text-align: left;">18</td>
<td style="text-align: left;">52</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Tampines</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>There are <strong>6,206</strong> private residential property sales for 2023 Q3.</p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>realis_2023q4 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/ResidentialTransaction20240308161109.csv'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">rename_with</span>(rename_realis_column)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(realis_2023q4, <span class="at">n=</span><span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 7%">
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">PROJECT_NAME</th>
<th style="text-align: right;">TRANSACTED_PRICE</th>
<th style="text-align: right;">AREA_SQFT</th>
<th style="text-align: right;">UNIT_PRICE_PSF</th>
<th style="text-align: left;">SALE_DATE</th>
<th style="text-align: left;">ADDRESS</th>
<th style="text-align: left;">TYPE_OF_SALE</th>
<th style="text-align: left;">TYPE_OF_AREA</th>
<th style="text-align: right;">AREA_SQM</th>
<th style="text-align: right;">UNIT_PRICE_PSM</th>
<th style="text-align: left;">NETT_PRICE</th>
<th style="text-align: left;">PROPERTY_TYPE</th>
<th style="text-align: right;">NUMBER_OF_UNITS</th>
<th style="text-align: left;">TENURE</th>
<th style="text-align: left;">COMPLETION_DATE</th>
<th style="text-align: left;">PURCHASER_ADDRESS_INDICATOR</th>
<th style="text-align: left;">POSTAL_CODE</th>
<th style="text-align: left;">POSTAL_DISTRICT</th>
<th style="text-align: left;">POSTAL_SECTOR</th>
<th style="text-align: left;">PLANNING_REGION</th>
<th style="text-align: left;">PLANNING_AREA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">LEEDON GREEN</td>
<td style="text-align: right;">1749000</td>
<td style="text-align: right;">538.20</td>
<td style="text-align: right;">3250</td>
<td style="text-align: left;">01 Oct 2023</td>
<td style="text-align: left;">26 LEEDON HEIGHTS #11-08</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">34980</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">266221</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Timah</td>
</tr>
<tr class="even">
<td style="text-align: left;">LIV @ MB</td>
<td style="text-align: right;">3148740</td>
<td style="text-align: right;">1453.14</td>
<td style="text-align: right;">2167</td>
<td style="text-align: left;">01 Oct 2023</td>
<td style="text-align: left;">114A ARTHUR ROAD #01-01</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">135</td>
<td style="text-align: right;">23324</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 23/11/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">439826</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">43</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Marine Parade</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MORI</td>
<td style="text-align: right;">2422337</td>
<td style="text-align: right;">1259.39</td>
<td style="text-align: right;">1923</td>
<td style="text-align: left;">01 Oct 2023</td>
<td style="text-align: left;">223 GUILLEMARD ROAD #05-21</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">20704</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">399738</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">39</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Geylang</td>
</tr>
<tr class="even">
<td style="text-align: left;">THE ARDEN</td>
<td style="text-align: right;">1330000</td>
<td style="text-align: right;">721.19</td>
<td style="text-align: right;">1844</td>
<td style="text-align: left;">01 Oct 2023</td>
<td style="text-align: left;">6 PHOENIX ROAD #01-18</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">19851</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 14/07/2023</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">668159</td>
<td style="text-align: left;">23</td>
<td style="text-align: left;">66</td>
<td style="text-align: left;">West Region</td>
<td style="text-align: left;">Bukit Batok</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LENTOR MODERN</td>
<td style="text-align: right;">2237000</td>
<td style="text-align: right;">1130.22</td>
<td style="text-align: right;">1979</td>
<td style="text-align: left;">01 Oct 2023</td>
<td style="text-align: left;">3 LENTOR CENTRAL #05-03</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">21305</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 26/10/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">788888</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">78</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Ang Mo Kio</td>
</tr>
<tr class="even">
<td style="text-align: left;">THE LAKEGARDEN RESIDENCES</td>
<td style="text-align: right;">1249900</td>
<td style="text-align: right;">592.02</td>
<td style="text-align: right;">2111</td>
<td style="text-align: left;">01 Oct 2023</td>
<td style="text-align: left;">82 YUAN CHING ROAD #04-14</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">22725</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 31/05/2023</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">619614</td>
<td style="text-align: left;">22</td>
<td style="text-align: left;">61</td>
<td style="text-align: left;">West Region</td>
<td style="text-align: left;">Jurong East</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LENTOR HILLS RESIDENCES</td>
<td style="text-align: right;">2890000</td>
<td style="text-align: right;">1356.26</td>
<td style="text-align: right;">2131</td>
<td style="text-align: left;">01 Oct 2023</td>
<td style="text-align: left;">31 LENTOR HILLS ROAD #15-03</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">126</td>
<td style="text-align: right;">22937</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 25/04/2022</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">788881</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">78</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Ang Mo Kio</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>There are <strong>4,851</strong> private residential property sales for 2023 Q4.</p>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>realis_2024q1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/ResidentialTransaction20240414220633.csv'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">rename_with</span>(rename_realis_column)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(realis_2024q1, <span class="at">n=</span><span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">PROJECT_NAME</th>
<th style="text-align: right;">TRANSACTED_PRICE</th>
<th style="text-align: right;">AREA_SQFT</th>
<th style="text-align: right;">UNIT_PRICE_PSF</th>
<th style="text-align: left;">SALE_DATE</th>
<th style="text-align: left;">ADDRESS</th>
<th style="text-align: left;">TYPE_OF_SALE</th>
<th style="text-align: left;">TYPE_OF_AREA</th>
<th style="text-align: right;">AREA_SQM</th>
<th style="text-align: right;">UNIT_PRICE_PSM</th>
<th style="text-align: left;">NETT_PRICE</th>
<th style="text-align: left;">PROPERTY_TYPE</th>
<th style="text-align: right;">NUMBER_OF_UNITS</th>
<th style="text-align: left;">TENURE</th>
<th style="text-align: left;">COMPLETION_DATE</th>
<th style="text-align: left;">PURCHASER_ADDRESS_INDICATOR</th>
<th style="text-align: left;">POSTAL_CODE</th>
<th style="text-align: left;">POSTAL_DISTRICT</th>
<th style="text-align: left;">POSTAL_SECTOR</th>
<th style="text-align: left;">PLANNING_REGION</th>
<th style="text-align: left;">PLANNING_AREA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">THE LANDMARK</td>
<td style="text-align: right;">2726888</td>
<td style="text-align: right;">1076.40</td>
<td style="text-align: right;">2533</td>
<td style="text-align: left;">01 Jan 2024</td>
<td style="text-align: left;">173 CHIN SWEE ROAD #22-11</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">27269</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 28/08/2020</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">169878</td>
<td style="text-align: left;">03</td>
<td style="text-align: left;">16</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Outram</td>
</tr>
<tr class="even">
<td style="text-align: left;">POLLEN COLLECTION</td>
<td style="text-align: right;">3850000</td>
<td style="text-align: right;">1808.35</td>
<td style="text-align: right;">2129</td>
<td style="text-align: left;">01 Jan 2024</td>
<td style="text-align: left;">34 POLLEN PLACE</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Land</td>
<td style="text-align: right;">168</td>
<td style="text-align: right;">22917</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Terrace House</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 09/12/2019</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">N.A</td>
<td style="text-align: left;">807233</td>
<td style="text-align: left;">28</td>
<td style="text-align: left;">80</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Serangoon</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SKY EDEN@BEDOK</td>
<td style="text-align: right;">2346000</td>
<td style="text-align: right;">1087.16</td>
<td style="text-align: right;">2158</td>
<td style="text-align: left;">01 Jan 2024</td>
<td style="text-align: left;">1 BEDOK CENTRAL #09-10</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">101</td>
<td style="text-align: right;">23228</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 05/01/2022</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">469657</td>
<td style="text-align: left;">16</td>
<td style="text-align: left;">46</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
</tr>
<tr class="even">
<td style="text-align: left;">TERRA HILL</td>
<td style="text-align: right;">2190000</td>
<td style="text-align: right;">807.30</td>
<td style="text-align: right;">2713</td>
<td style="text-align: left;">01 Jan 2024</td>
<td style="text-align: left;">18A YEW SIANG ROAD #03-12</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">29200</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">N.A</td>
<td style="text-align: left;">118992</td>
<td style="text-align: left;">05</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Queenstown</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PINETREE HILL</td>
<td style="text-align: right;">1954000</td>
<td style="text-align: right;">796.54</td>
<td style="text-align: right;">2453</td>
<td style="text-align: left;">01 Jan 2024</td>
<td style="text-align: left;">36 PINE GROVE #05-18</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">74</td>
<td style="text-align: right;">26405</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 12/09/2022</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">598444</td>
<td style="text-align: left;">21</td>
<td style="text-align: left;">59</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Timah</td>
</tr>
<tr class="even">
<td style="text-align: left;">THE RESERVE RESIDENCES</td>
<td style="text-align: right;">3412201</td>
<td style="text-align: right;">1323.97</td>
<td style="text-align: right;">2577</td>
<td style="text-align: left;">01 Jan 2024</td>
<td style="text-align: left;">13 JALAN ANAK BUKIT #28-106</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">123</td>
<td style="text-align: right;">27741</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 29/11/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">589605</td>
<td style="text-align: left;">21</td>
<td style="text-align: left;">58</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Timah</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SUMMER VILLAS</td>
<td style="text-align: right;">2960000</td>
<td style="text-align: right;">3530.59</td>
<td style="text-align: right;">838</td>
<td style="text-align: left;">02 Jan 2024</td>
<td style="text-align: left;">73 GERALD DRIVE #01-06</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">328</td>
<td style="text-align: right;">9024</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Terrace House</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">2004</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">797703</td>
<td style="text-align: left;">28</td>
<td style="text-align: left;">79</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Hougang</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>There are <strong>4,902</strong> private residential property sales for 2024 Q1.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(realis_2023q1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 4,722
Columns: 21
$ PROJECT_NAME                &lt;chr&gt; "THE REEF AT KING'S DOCK", "URBAN TREASURE…
$ TRANSACTED_PRICE            &lt;dbl&gt; 2317000, 1823500, 1421112, 1258112, 128000…
$ AREA_SQFT                   &lt;dbl&gt; 882.65, 882.65, 1076.40, 1033.34, 871.88, …
$ UNIT_PRICE_PSF              &lt;dbl&gt; 2625, 2066, 1320, 1218, 1468, 1767, 1095, …
$ SALE_DATE                   &lt;chr&gt; "01 Jan 2023", "02 Jan 2023", "02 Jan 2023…
$ ADDRESS                     &lt;chr&gt; "12 HARBOURFRONT AVENUE #05-32", "205 JALA…
$ TYPE_OF_SALE                &lt;chr&gt; "New Sale", "New Sale", "New Sale", "New S…
$ TYPE_OF_AREA                &lt;chr&gt; "Strata", "Strata", "Strata", "Strata", "S…
$ AREA_SQM                    &lt;dbl&gt; 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 420.…
$ UNIT_PRICE_PSM              &lt;dbl&gt; 28256, 22238, 14211, 13105, 15802, 19015, …
$ NETT_PRICE                  &lt;chr&gt; "-", "-", "-", "-", "-", "-", "-", "-", "-…
$ PROPERTY_TYPE               &lt;chr&gt; "Condominium", "Condominium", "Executive C…
$ NUMBER_OF_UNITS             &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ TENURE                      &lt;chr&gt; "99 yrs from 12/01/2021", "Freehold", "99 …
$ COMPLETION_DATE             &lt;chr&gt; "Uncompleted", "Uncompleted", "Uncompleted…
$ PURCHASER_ADDRESS_INDICATOR &lt;chr&gt; "HDB", "Private", "HDB", "HDB", "HDB", "Pr…
$ POSTAL_CODE                 &lt;chr&gt; "097996", "419535", "269343", "269294", "7…
$ POSTAL_DISTRICT             &lt;chr&gt; "04", "14", "27", "27", "28", "19", "10", …
$ POSTAL_SECTOR               &lt;chr&gt; "09", "41", "26", "26", "79", "54", "27", …
$ PLANNING_REGION             &lt;chr&gt; "Central Region", "East Region", "North Re…
$ PLANNING_AREA               &lt;chr&gt; "Bukit Merah", "Bedok", "Yishun", "Yishun"…</code></pre>
</div>
</div>
<p>The imported dataset has 21 variables.</p>
</section>
<section id="combining-the-dataframes" class="level2">
<h2 class="anchored" data-anchor-id="combining-the-dataframes">3.2 Combining the dataframes</h2>
<p>Next, we will combine all 5 <code>realis_202*q*</code> dataframes into a single one to simplify aggregation and partitioning of data for analysis.</p>
<p>This will also simplify cleanup and transformation as they will be done on a single dataframe instead of 5.</p>
<p>To do this, we need to add <code>QUARTER</code> values to each dataframe before merging them to a single one. We will use the format <code>&lt;YEAR&gt;Q&lt;QUARTER&gt;</code>, i.e <code>2024Q1</code> for 2024 Q1. This is so we can identify which quarter the sale was made, which we will use for aggregation.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Functions used
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p><code>mutate()</code> for adding new column</p></li>
<li><p><code>rbind()</code> for combining all dataframes</p></li>
<li><p><code>seq_len()</code> and <code>nrow()</code> for generating a sequence of IDs</p></li>
<li><p><code>sprintf()</code> for formatting a string.</p></li>
</ul>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Adding QUARTER column</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Combining data frames</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Adding transaction ID’s (TXN_ID)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Verifying the result</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>realis_2023q1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(realis_2023q1, <span class="at">QUARTER=</span><span class="st">"2023Q1"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>realis_2023q2 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(realis_2023q2, <span class="at">QUARTER=</span><span class="st">"2023Q2"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>realis_2023q3 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(realis_2023q3, <span class="at">QUARTER=</span><span class="st">"2023Q3"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>realis_2023q4 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(realis_2023q4, <span class="at">QUARTER=</span><span class="st">"2023Q4"</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>realis_2024q1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(realis_2024q1, <span class="at">QUARTER=</span><span class="st">"2024Q1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>realis <span class="ot">&lt;-</span> realis_2023q1 <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(realis_2023q2) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(realis_2023q3) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(realis_2023q4) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(realis_2024q1)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(realis, <span class="at">n=</span><span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 7%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 5%">
<col style="width: 3%">
<col style="width: 2%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">PROJECT_NAME</th>
<th style="text-align: right;">TRANSACTED_PRICE</th>
<th style="text-align: right;">AREA_SQFT</th>
<th style="text-align: right;">UNIT_PRICE_PSF</th>
<th style="text-align: left;">SALE_DATE</th>
<th style="text-align: left;">ADDRESS</th>
<th style="text-align: left;">TYPE_OF_SALE</th>
<th style="text-align: left;">TYPE_OF_AREA</th>
<th style="text-align: right;">AREA_SQM</th>
<th style="text-align: right;">UNIT_PRICE_PSM</th>
<th style="text-align: left;">NETT_PRICE</th>
<th style="text-align: left;">PROPERTY_TYPE</th>
<th style="text-align: right;">NUMBER_OF_UNITS</th>
<th style="text-align: left;">TENURE</th>
<th style="text-align: left;">COMPLETION_DATE</th>
<th style="text-align: left;">PURCHASER_ADDRESS_INDICATOR</th>
<th style="text-align: left;">POSTAL_CODE</th>
<th style="text-align: left;">POSTAL_DISTRICT</th>
<th style="text-align: left;">POSTAL_SECTOR</th>
<th style="text-align: left;">PLANNING_REGION</th>
<th style="text-align: left;">PLANNING_AREA</th>
<th style="text-align: left;">QUARTER</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">THE REEF AT KING’S DOCK</td>
<td style="text-align: right;">2317000</td>
<td style="text-align: right;">882.65</td>
<td style="text-align: right;">2625</td>
<td style="text-align: left;">01 Jan 2023</td>
<td style="text-align: left;">12 HARBOURFRONT AVENUE #05-32</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">82.0</td>
<td style="text-align: right;">28256</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 12/01/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">097996</td>
<td style="text-align: left;">04</td>
<td style="text-align: left;">09</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Merah</td>
<td style="text-align: left;">2023Q1</td>
</tr>
<tr class="even">
<td style="text-align: left;">URBAN TREASURES</td>
<td style="text-align: right;">1823500</td>
<td style="text-align: right;">882.65</td>
<td style="text-align: right;">2066</td>
<td style="text-align: left;">02 Jan 2023</td>
<td style="text-align: left;">205 JALAN EUNOS #08-02</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">82.0</td>
<td style="text-align: right;">22238</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">419535</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">41</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">2023Q1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NORTH GAIA</td>
<td style="text-align: right;">1421112</td>
<td style="text-align: right;">1076.40</td>
<td style="text-align: right;">1320</td>
<td style="text-align: left;">02 Jan 2023</td>
<td style="text-align: left;">29 YISHUN CLOSE #08-10</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: right;">14211</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 15/02/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">269343</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">North Region</td>
<td style="text-align: left;">Yishun</td>
<td style="text-align: left;">2023Q1</td>
</tr>
<tr class="even">
<td style="text-align: left;">NORTH GAIA</td>
<td style="text-align: right;">1258112</td>
<td style="text-align: right;">1033.34</td>
<td style="text-align: right;">1218</td>
<td style="text-align: left;">02 Jan 2023</td>
<td style="text-align: left;">45 YISHUN CLOSE #07-42</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">96.0</td>
<td style="text-align: right;">13105</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 15/02/2021</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">269294</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">North Region</td>
<td style="text-align: left;">Yishun</td>
<td style="text-align: left;">2023Q1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PARC BOTANNIA</td>
<td style="text-align: right;">1280000</td>
<td style="text-align: right;">871.88</td>
<td style="text-align: right;">1468</td>
<td style="text-align: left;">03 Jan 2023</td>
<td style="text-align: left;">12 FERNVALE STREET #06-16</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">81.0</td>
<td style="text-align: right;">15802</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 28/12/2016</td>
<td style="text-align: left;">2022</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">797391</td>
<td style="text-align: left;">28</td>
<td style="text-align: left;">79</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Sengkang</td>
<td style="text-align: left;">2023Q1</td>
</tr>
<tr class="even">
<td style="text-align: left;">NANYANG PARK</td>
<td style="text-align: right;">5870000</td>
<td style="text-align: right;">3322.85</td>
<td style="text-align: right;">1767</td>
<td style="text-align: left;">03 Jan 2023</td>
<td style="text-align: left;">72 JALAN LIMBOK</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Land</td>
<td style="text-align: right;">308.7</td>
<td style="text-align: right;">19015</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Terrace House</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">999 yrs from 14/02/1881</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">548742</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">54</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Hougang</td>
<td style="text-align: left;">2023Q1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PALMS @ SIXTH AVENUE</td>
<td style="text-align: right;">4950000</td>
<td style="text-align: right;">4520.88</td>
<td style="text-align: right;">1095</td>
<td style="text-align: left;">03 Jan 2023</td>
<td style="text-align: left;">231 SIXTH AVENUE</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">420.0</td>
<td style="text-align: right;">11786</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Semi-Detached House</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">2015</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">275780</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Timah</td>
<td style="text-align: left;">2023Q1</td>
</tr>
<tr class="even">
<td style="text-align: left;">N.A.</td>
<td style="text-align: right;">3260000</td>
<td style="text-align: right;">1555.40</td>
<td style="text-align: right;">2096</td>
<td style="text-align: left;">03 Jan 2023</td>
<td style="text-align: left;">19 TENG TONG ROAD</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Land</td>
<td style="text-align: right;">144.5</td>
<td style="text-align: right;">22561</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Terrace House</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: left;">1941</td>
<td style="text-align: left;">Private</td>
<td style="text-align: left;">423510</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">42</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Marine Parade</td>
<td style="text-align: left;">2023Q1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">WHISTLER GRAND</td>
<td style="text-align: right;">850000</td>
<td style="text-align: right;">441.32</td>
<td style="text-align: right;">1926</td>
<td style="text-align: left;">03 Jan 2023</td>
<td style="text-align: left;">107 WEST COAST VALE #30-04</td>
<td style="text-align: left;">Sub Sale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">41.0</td>
<td style="text-align: right;">20732</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 07/05/2018</td>
<td style="text-align: left;">2022</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">126751</td>
<td style="text-align: left;">05</td>
<td style="text-align: left;">12</td>
<td style="text-align: left;">West Region</td>
<td style="text-align: left;">Clementi</td>
<td style="text-align: left;">2023Q1</td>
</tr>
<tr class="even">
<td style="text-align: left;">NORTHOAKS</td>
<td style="text-align: right;">1268000</td>
<td style="text-align: right;">1603.84</td>
<td style="text-align: right;">791</td>
<td style="text-align: left;">03 Jan 2023</td>
<td style="text-align: left;">30 WOODLANDS CRESCENT #01-11</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: right;">149.0</td>
<td style="text-align: right;">8510</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Executive Condominium</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">99 yrs from 16/12/1997</td>
<td style="text-align: left;">2000</td>
<td style="text-align: left;">HDB</td>
<td style="text-align: left;">738086</td>
<td style="text-align: left;">25</td>
<td style="text-align: left;">73</td>
<td style="text-align: left;">North Region</td>
<td style="text-align: left;">Woodlands</td>
<td style="text-align: left;">2023Q1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>We will also add <code>TXN_ID</code> so we can more easily refer to the observations later on. The format is <code>TXN00000</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>realis<span class="sc">$</span>TXN_ID <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">"TXN%05d"</span>, <span class="fu">seq_len</span>(<span class="fu">nrow</span>(realis)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p>Let us check if all rows are accounted for by checking if the number of rows in <code>realis</code> is the total number of rows from all dataframes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(realis) <span class="sc">==</span> <span class="fu">nrow</span>(realis_2023q1) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>(realis_2023q2) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>(realis_2023q3) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>(realis_2023q4) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>(realis_2024q1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="filtering-relevant-columns" class="level2">
<h2 class="anchored" data-anchor-id="filtering-relevant-columns">3.3 Filtering relevant columns</h2>
<p>After adding the <code>QUARTER</code> and <code>TXN_ID</code> columns, there are now 23 variables in the dataframe. However, not all of them are relevant to answer the questions we are asking. The table below summarizes the columns and whether we will keep them or not.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Column Details</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Filter code</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<table class="table">
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Action</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PROJECT_NAME</td>
<td>Name of the project</td>
<td><span style="color:red">DROP</span></td>
<td>Too specific for aggregation</td>
</tr>
<tr class="even">
<td>TRANSACTED_PRICE</td>
<td>Transaction price (SGD)</td>
<td><span style="color:green">KEEP</span></td>
<td>Core data for analysis</td>
</tr>
<tr class="odd">
<td>AREA_SQFT</td>
<td>Area of the property in sqft</td>
<td><span style="color:green">KEEP</span></td>
<td>Can be useful partitioning data</td>
</tr>
<tr class="even">
<td>UNIT_PRICE_PSF</td>
<td>Price per sqft</td>
<td><span style="color:green">KEEP</span></td>
<td>Can be useful for price analysis</td>
</tr>
<tr class="odd">
<td>SALE_DATE</td>
<td>Date when the sale was made</td>
<td><span style="color:red">DROP</span></td>
<td>We will aggregate by quarter, no need to know the specific dates.</td>
</tr>
<tr class="even">
<td>ADDRESS</td>
<td>Property Address</td>
<td><span style="color:red">DROP</span></td>
<td>Too specific for aggregation</td>
</tr>
<tr class="odd">
<td>TYPE_OF_SALE</td>
<td>One of <em>New Sale</em>, <em>Resale</em>, <em>Subsale</em></td>
<td><span style="color:green">KEEP</span></td>
<td>Important submarket information</td>
</tr>
<tr class="even">
<td>TYPE_OF_AREA</td>
<td>One of <em>Landed</em>, <em>Strata</em></td>
<td><span style="color:green">KEEP</span></td>
<td>Can be used to partition data</td>
</tr>
<tr class="odd">
<td>AREA_SQM</td>
<td>Price per sqm</td>
<td><span style="color:red">DROP</span></td>
<td>AREA_SFT is adequate</td>
</tr>
<tr class="even">
<td>UNIT_PRICE_PSM</td>
<td>Price per sqm</td>
<td><span style="color:red">DROP</span></td>
<td>UNIT_PRICE_PSF is adequate</td>
</tr>
<tr class="odd">
<td>NETT_PRICE</td>
<td></td>
<td><span style="color:red">DROP</span></td>
<td>Column is blank</td>
</tr>
<tr class="even">
<td>PROPERTY_TYPE</td>
<td>Type of Property, e.g.&nbsp;<em>Apartment, Condominium, Executive Condominium, Terrace House, Semi-Detached House, Detached House</em></td>
<td><span style="color:green">KEEP</span></td>
<td>Can be used to partition data</td>
</tr>
<tr class="odd">
<td>NUMBER_OF_UNITS</td>
<td>Number of units involved in the transaction</td>
<td><span style="color:green">KEEP</span></td>
<td>Core data for analysis</td>
</tr>
<tr class="even">
<td>TENURE</td>
<td>Can be Freehold or Leasehold</td>
<td><span style="color:green">KEEP</span></td>
<td>Can be used to partition data</td>
</tr>
<tr class="odd">
<td>COMPLETION_DATE</td>
<td>When the property was completed. Some properties are Uncompleted as they will be turned over for the future</td>
<td><span style="color:green">KEEP</span></td>
<td>Can be used to partition data</td>
</tr>
<tr class="even">
<td>PURCHASER_ADDRESS_INDICATOR</td>
<td><a href="https://www.ura.gov.sg/reis/dataDictionary#:~:text=Purchaser%20Address%20Indicator%3A%20It%20refers,is%20owned%20by%20the%20purchaser.">Type of residence of the purchaser</a></td>
<td><span style="color:green">KEEP</span></td>
<td>Can be used to partition data</td>
</tr>
<tr class="odd">
<td>POSTAL_CODE</td>
<td>Postal code of the property</td>
<td><span style="color:red">DROP</span></td>
<td>Too specific for aggregation</td>
</tr>
<tr class="even">
<td>POSTAL_DISTRICT</td>
<td>District where the property is located</td>
<td><span style="color:green">KEEP</span></td>
<td>Can be used to partition data</td>
</tr>
<tr class="odd">
<td>POSTAL_SECTOR</td>
<td>Sector where the property is located</td>
<td><span style="color:red">DROP</span></td>
<td>Irrelevant</td>
</tr>
<tr class="even">
<td>PLANNING_REGION</td>
<td>Region where the property is located</td>
<td><span style="color:green">KEEP</span></td>
<td>Can be used to partition data</td>
</tr>
<tr class="odd">
<td>PLANNING_AREA</td>
<td>Area where the property is located</td>
<td><span style="color:green">KEEP</span></td>
<td>Can be used to partition data</td>
</tr>
<tr class="even">
<td>QUARTER</td>
<td>Quarter where the property was sold</td>
<td><span style="color:green">KEEP</span></td>
<td>Core data for aggregation</td>
</tr>
<tr class="odd">
<td>TXN_ID</td>
<td>Identifier for the transaction</td>
<td><span style="color:green">KEEP</span></td>
<td>It is an identifier</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<p>We will now use <code>select()</code> to keep only the relevant columns. We will define the function below for filtering the relevant columns. This will also rearrange the columns based on the order in the function call.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>realis <span class="ot">&lt;-</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  realis <span class="sc">%&gt;%</span> <span class="fu">select</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>      TXN_ID,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>      QUARTER,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>      NUMBER_OF_UNITS,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>      TRANSACTED_PRICE,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>      AREA_SQFT,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>      TYPE_OF_SALE,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>      PROPERTY_TYPE,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>      TYPE_OF_AREA,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>      POSTAL_DISTRICT,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>      PLANNING_REGION,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>      PLANNING_AREA,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>      TENURE,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>      UNIT_PRICE_PSF,</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>      COMPLETION_DATE,</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>      PURCHASER_ADDRESS_INDICATOR</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>After this initial cleanup, we are left with 15 variables relevant to our exploration.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Save point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Let us save <code>realis</code> so we do not need to rerun the steps above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(realis, <span class="st">"data/rds/realis_after_clean.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Data clear point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We do not need the <code>realis_202*q*</code> dataframes anymore so we can remove them from the RStudio environment.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(realis_2023q1)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(realis_2023q2)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(realis_2023q3)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(realis_2023q4)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(realis_2024q1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="closer-look-at-number_of_units" class="level2">
<h2 class="anchored" data-anchor-id="closer-look-at-number_of_units">3.4 Closer look at NUMBER_OF_UNITS</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Load point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We can continue running the document from this point by loading the following prepared data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>realis <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"data/rds/realis_after_clean.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Taking a closer look at <code>NUMBER_OF_UNITS</code> columns reveals that <strong>12 out of 26,806 transactions</strong> involve multiple units.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>realis[<span class="fu">order</span>(<span class="sc">-</span>realis<span class="sc">$</span>NUMBER_OF_UNITS),] <span class="sc">%&gt;%</span> <span class="fu">filter</span>(NUMBER_OF_UNITS <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 9%">
<col style="width: 5%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">TXN_ID</th>
<th style="text-align: left;">QUARTER</th>
<th style="text-align: right;">NUMBER_OF_UNITS</th>
<th style="text-align: right;">TRANSACTED_PRICE</th>
<th style="text-align: right;">AREA_SQFT</th>
<th style="text-align: left;">TYPE_OF_SALE</th>
<th style="text-align: left;">PROPERTY_TYPE</th>
<th style="text-align: left;">TYPE_OF_AREA</th>
<th style="text-align: left;">POSTAL_DISTRICT</th>
<th style="text-align: left;">PLANNING_REGION</th>
<th style="text-align: left;">PLANNING_AREA</th>
<th style="text-align: left;">TENURE</th>
<th style="text-align: right;">UNIT_PRICE_PSF</th>
<th style="text-align: left;">COMPLETION_DATE</th>
<th style="text-align: left;">PURCHASER_ADDRESS_INDICATOR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">TXN01567</td>
<td style="text-align: left;">2023Q1</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">392180000</td>
<td style="text-align: right;">144883.44</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Marine Parade</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2707</td>
<td style="text-align: left;">1985</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN00083</td>
<td style="text-align: left;">2023Q1</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">115280000</td>
<td style="text-align: right;">68491.33</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">16</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1683</td>
<td style="text-align: left;">1991</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TXN08370</td>
<td style="text-align: left;">2023Q2</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">66800000</td>
<td style="text-align: right;">25177.00</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Terrace House</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Novena</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2653</td>
<td style="text-align: left;">1984</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN17572</td>
<td style="text-align: left;">2023Q4</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">18000000</td>
<td style="text-align: right;">6964.31</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Novena</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2585</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TXN00861</td>
<td style="text-align: left;">2023Q1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">6280000</td>
<td style="text-align: right;">5489.64</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Serangoon</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1144</td>
<td style="text-align: left;">1976</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN10593</td>
<td style="text-align: left;">2023Q2</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">10600000</td>
<td style="text-align: right;">6746.88</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1571</td>
<td style="text-align: left;">1985</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TXN04100</td>
<td style="text-align: left;">2023Q1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">61080008</td>
<td style="text-align: right;">32148.84</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Detached House</td>
<td style="text-align: left;">Land</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Novena</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1900</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN06865</td>
<td style="text-align: left;">2023Q2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">32200000</td>
<td style="text-align: right;">14123.44</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Detached House</td>
<td style="text-align: left;">Land</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Novena</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2280</td>
<td style="text-align: left;">1997</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TXN10316</td>
<td style="text-align: left;">2023Q2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">6150000</td>
<td style="text-align: right;">4342.20</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Semi-Detached House</td>
<td style="text-align: left;">Land</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">North East Region</td>
<td style="text-align: left;">Serangoon</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1416</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN12792</td>
<td style="text-align: left;">2023Q3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">6100000</td>
<td style="text-align: right;">8337.79</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Semi-Detached House</td>
<td style="text-align: left;">Land</td>
<td style="text-align: left;">16</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Tampines</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">732</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TXN13376</td>
<td style="text-align: left;">2023Q3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">8000000</td>
<td style="text-align: right;">3658.68</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Semi-Detached House</td>
<td style="text-align: left;">Land</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Geylang</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2187</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN24770</td>
<td style="text-align: left;">2024Q1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">7000000</td>
<td style="text-align: right;">4208.72</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">09</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Orchard</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1663</td>
<td style="text-align: left;">1983</td>
<td style="text-align: left;">Private</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Furthermore, the <code>TRANSACTED_PRICE</code> for such transactions are <strong>hundred million dollar transactions</strong>, which can skew the data if we are looking at <code>TRANSACTED_PRICE</code> with the assumption that it is the <strong>price per unit</strong>.</p>
<p>For example <strong>TXN01567</strong>, is worth <strong>$392,180,000</strong>, which is much higher that the price of individual units</p>
</section>
<section id="handling-the-bulk-transactions" class="level2">
<h2 class="anchored" data-anchor-id="handling-the-bulk-transactions">3.5 Handling the bulk transactions</h2>
<p>To address the 12 bulk transactions in our dataframe, we have 2 possible options:</p>
<ul>
<li><p><strong>Option 1</strong>: Remove these transactions as these correspond to <strong>0.045%</strong> of transactions (<span style="color:green"><strong>EASY</strong></span>)</p></li>
<li><p><strong>Option 2</strong>: Create rows for each unit in the transaction (<span style="color:red"><strong>HARD</strong></span>)</p></li>
</ul>
<p>Although Option 2 is more difficult, it is the better approach as all the transactions are <strong>Resale</strong> transactions. Simply removing them may remove very important data for the resale submarket.</p>
<p>For this solution, we need to do the following:</p>
<ol type="1">
<li>Repeat all rows by <code>NUMBER_OF_UNITS</code> times.</li>
<li>Set transacted price to the average price: <span class="math inline">\(\frac{TRANSACTED\_PRICE}{NUMBER\_OF\_UNITS}\)</span>.</li>
<li>Set the area (sqft) to the average area: <span class="math inline">\(\frac{AREA\_SQFT}{NUMBER\_OF\_UNITS}\)</span>.</li>
<li>Set <code>NUMBER_OF_UNITS</code> to 1.</li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Repeating rows</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Setting column values</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<p>Reference: <a href="https://stackoverflow.com/questions/11121385/repeat-rows-of-a-data-frame">Stackoverflow</a></p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Functions used
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>rep()</code> - to repeat a dataframe</p>
<p><code>seq_len(nrow())</code> - to iterate to each row of the dataframe</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>realis_per_unit <span class="ot">&lt;-</span> realis[<span class="fu">rep</span>(<span class="fu">seq_len</span>(<span class="fu">nrow</span>(realis)), realis<span class="sc">$</span>NUMBER_OF_UNITS),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lets’ check if the number of rows correspond to the total number of units sold.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(realis_per_unit) <span class="sc">==</span> <span class="fu">sum</span>(realis<span class="sc">$</span>NUMBER_OF_UNITS)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p>We will perform the changes to <code>NUMBER_OF_UNITS</code>, <code>TRANSACTED_PRICE</code>, <code>AREA_SQFT</code> in 1 code chunk so that rerunning the code chunk is idempotent and won’t mutate the variable further</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>realis_per_unit <span class="ot">&lt;-</span> realis_per_unit <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NUMBER_OF_UNITS <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">TRANSACTED_PRICE =</span> <span class="fu">round</span>(TRANSACTED_PRICE <span class="sc">/</span> NUMBER_OF_UNITS, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AREA_SQFT =</span> <span class="fu">round</span>(AREA_SQFT <span class="sc">/</span> NUMBER_OF_UNITS, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NUMBER_OF_UNITS =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(realis_per_unit <span class="sc">%&gt;%</span> <span class="co"># Reconnect to the rest of the dataframe</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(NUMBER_OF_UNITS <span class="sc">==</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Let us verify the result of the transformation.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Before</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">After</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>realis <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(TXN_ID <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TXN00001"</span>, <span class="st">"TXN00002"</span>, <span class="co"># Single-unit transactions</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TXN10593"</span>, <span class="st">"TXN13376"</span> <span class="co"># Bulk transactions</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">%&gt;%</span> <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 9%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">TXN_ID</th>
<th style="text-align: left;">QUARTER</th>
<th style="text-align: right;">NUMBER_OF_UNITS</th>
<th style="text-align: right;">TRANSACTED_PRICE</th>
<th style="text-align: right;">AREA_SQFT</th>
<th style="text-align: left;">TYPE_OF_SALE</th>
<th style="text-align: left;">PROPERTY_TYPE</th>
<th style="text-align: left;">TYPE_OF_AREA</th>
<th style="text-align: left;">POSTAL_DISTRICT</th>
<th style="text-align: left;">PLANNING_REGION</th>
<th style="text-align: left;">PLANNING_AREA</th>
<th style="text-align: left;">TENURE</th>
<th style="text-align: right;">UNIT_PRICE_PSF</th>
<th style="text-align: left;">COMPLETION_DATE</th>
<th style="text-align: left;">PURCHASER_ADDRESS_INDICATOR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">TXN00001</td>
<td style="text-align: left;">2023Q1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2317000</td>
<td style="text-align: right;">882.65</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">04</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Merah</td>
<td style="text-align: left;">99 yrs from 12/01/2021</td>
<td style="text-align: right;">2625</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN00002</td>
<td style="text-align: left;">2023Q1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1823500</td>
<td style="text-align: right;">882.65</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2066</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TXN10593</td>
<td style="text-align: left;">2023Q2</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">10600000</td>
<td style="text-align: right;">6746.88</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1571</td>
<td style="text-align: left;">1985</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN13376</td>
<td style="text-align: left;">2023Q3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">8000000</td>
<td style="text-align: right;">3658.68</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Semi-Detached House</td>
<td style="text-align: left;">Land</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Geylang</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2187</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>realis_per_unit <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(TXN_ID <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TXN00001"</span>, <span class="st">"TXN00002"</span>, <span class="co"># Single-unit transactions</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TXN10593"</span>, <span class="st">"TXN13376"</span> <span class="co"># Bulk transactions</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">%&gt;%</span> <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 9%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">TXN_ID</th>
<th style="text-align: left;">QUARTER</th>
<th style="text-align: right;">NUMBER_OF_UNITS</th>
<th style="text-align: right;">TRANSACTED_PRICE</th>
<th style="text-align: right;">AREA_SQFT</th>
<th style="text-align: left;">TYPE_OF_SALE</th>
<th style="text-align: left;">PROPERTY_TYPE</th>
<th style="text-align: left;">TYPE_OF_AREA</th>
<th style="text-align: left;">POSTAL_DISTRICT</th>
<th style="text-align: left;">PLANNING_REGION</th>
<th style="text-align: left;">PLANNING_AREA</th>
<th style="text-align: left;">TENURE</th>
<th style="text-align: right;">UNIT_PRICE_PSF</th>
<th style="text-align: left;">COMPLETION_DATE</th>
<th style="text-align: left;">PURCHASER_ADDRESS_INDICATOR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">TXN10593</td>
<td style="text-align: left;">2023Q2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2650000</td>
<td style="text-align: right;">1687.00</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1571</td>
<td style="text-align: left;">1985</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN10593</td>
<td style="text-align: left;">2023Q2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2650000</td>
<td style="text-align: right;">1687.00</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1571</td>
<td style="text-align: left;">1985</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TXN10593</td>
<td style="text-align: left;">2023Q2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2650000</td>
<td style="text-align: right;">1687.00</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1571</td>
<td style="text-align: left;">1985</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN10593</td>
<td style="text-align: left;">2023Q2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2650000</td>
<td style="text-align: right;">1687.00</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Apartment</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">1571</td>
<td style="text-align: left;">1985</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TXN13376</td>
<td style="text-align: left;">2023Q3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4000000</td>
<td style="text-align: right;">1829.00</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Semi-Detached House</td>
<td style="text-align: left;">Land</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Geylang</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2187</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN13376</td>
<td style="text-align: left;">2023Q3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4000000</td>
<td style="text-align: right;">1829.00</td>
<td style="text-align: left;">Resale</td>
<td style="text-align: left;">Semi-Detached House</td>
<td style="text-align: left;">Land</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Geylang</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2187</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TXN00001</td>
<td style="text-align: left;">2023Q1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2317000</td>
<td style="text-align: right;">882.65</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">04</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Merah</td>
<td style="text-align: left;">99 yrs from 12/01/2021</td>
<td style="text-align: right;">2625</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">HDB</td>
</tr>
<tr class="even">
<td style="text-align: left;">TXN00002</td>
<td style="text-align: left;">2023Q1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1823500</td>
<td style="text-align: right;">882.65</td>
<td style="text-align: left;">New Sale</td>
<td style="text-align: left;">Condominium</td>
<td style="text-align: left;">Strata</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">East Region</td>
<td style="text-align: left;">Bedok</td>
<td style="text-align: left;">Freehold</td>
<td style="text-align: right;">2066</td>
<td style="text-align: left;">Uncompleted</td>
<td style="text-align: left;">Private</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Save point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Let us save <code>realis_per_unit</code> so we do not need to rerun the steps above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(realis_per_unit, <span class="st">"data/rds/realis_per_unit.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="data-exploration" class="level1">
<h1>4 Data Exploration</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(realis_per_unit, <span class="fu">aes</span>(<span class="at">x=</span>QUARTER, <span class="at">fill=</span>TYPE_OF_SALE)) <span class="sc">+</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex1_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="comparing-2023q1-and-2024q1-prices" class="level2">
<h2 class="anchored" data-anchor-id="comparing-2023q1-and-2024q1-prices">4.1 Comparing 2023Q1 and 2024Q1 prices</h2>
<p>Credit to <a href="http://127.0.0.1:25657/#0" title="https://akalestale.netlify.app/take-home_ex/take-home_ex01/take-home_ex01">https://akalestale.netlify.app/take-home_ex/take-home_ex01/take-home_ex01</a> for stat_halfeye usage</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This section uses ChatGPT to revise the plot headlines and captions.</p>
</div>
</div>
</div>
<section id="creating-the-base-visualization" class="level3">
<h3 class="anchored" data-anchor-id="creating-the-base-visualization">4.1.2 Creating the base Visualization</h3>
<div class="cell">
<details>
<summary>Show ggplot2 code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>plot_q1_yoy_psf_price <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    realis_per_unit <span class="sc">%&gt;%</span> <span class="fu">filter</span>(QUARTER <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"2023Q1"</span>, <span class="st">"2024Q1"</span>)),</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> QUARTER,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> UNIT_PRICE_PSF,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> QUARTER,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> QUARTER</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_halfeye</span>(</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> QUARTER,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">justification =</span> <span class="fu">ifelse</span>(QUARTER <span class="sc">==</span> <span class="st">"2023Q1"</span>, <span class="fl">1.22</span>, <span class="dv">0</span>),</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">side =</span> <span class="fu">ifelse</span>(QUARTER <span class="sc">==</span> <span class="st">"2023Q1"</span>, <span class="st">"left"</span>, <span class="st">"right"</span>)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">x =</span> <span class="fl">0.1</span>, <span class="at">y =</span> <span class="dv">0</span>),</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">.width =</span> <span class="dv">0</span>,</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">alpha =</span> .<span class="dv">8</span>,</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">point_color =</span> <span class="cn">NA</span>,</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>(</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> <span class="fl">0.08</span>,</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="fl">0.01</span>,</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">alpha =</span> <span class="fl">0.2</span>,</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">outlier.shape =</span> <span class="cn">NA</span>,</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">alpha =</span> <span class="dv">0</span>,</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> .<span class="dv">1</span>,</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_summary</span>(</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"$"</span>, <span class="fu">after_stat</span>(y))),</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">geom =</span> <span class="st">"text"</span>,</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">fun =</span> <span class="st">"median"</span>,</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">y =</span> <span class="dv">2500</span>),</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Roboto Condensed"</span>,</span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>      <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>    )<span class="sc">+</span></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey50"</span>, <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey50"</span>, <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Unit Price Per Sqft ($)"</span>) <span class="sc">+</span></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_q1_yoy_psf_price</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex1_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="generating-the-visualization" class="level3">
<h3 class="anchored" data-anchor-id="generating-the-visualization">4.2.2 Generating the visualization</h3>
<div class="cell">
<details>
<summary>Show ggplot2 code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>q1_yoy_psf_price_submarkets_graph <span class="ot">&lt;-</span> <span class="fu">plot_q1_yoy_psf_price</span>() <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> TYPE_OF_SALE, <span class="at">strip.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>())</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>q1_yoy_psf_price_all_markets_graph <span class="ot">&lt;-</span> <span class="fu">plot_q1_yoy_psf_price</span>() <span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> NUMBER_OF_UNITS, <span class="at">strip.position =</span> <span class="st">"bottom"</span>, <span class="at">labeller =</span> <span class="fu">as_labeller</span>(<span class="cf">function</span>(l) {<span class="st">"All Sales"</span>})) <span class="sc">+</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Transaction Price (,000 SGD)"</span>) <span class="sc">+</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"aliceblue"</span>, <span class="at">linewidth=</span><span class="dv">0</span>)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>(q1_yoy_psf_price_all_markets_graph <span class="sc">|</span> q1_yoy_psf_price_submarkets_graph ) <span class="sc">+</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">widths=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="st">"Singapore Median Private Property Prices Up 2% from Q1 2023 to Q1 2024."</span>,</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle=</span><span class="st">"In the **New Sales** market, prices decrease by &lt;span style='color:brown;'&gt;**7.1%**&lt;/span&gt;, while **Resale** and **Sub Sale** markets see increases of &lt;span style='color:darkgreen;'&gt;**4.5%**&lt;/span&gt; and &lt;span style='color:darkgreen;'&gt;**8.5%**&lt;/span&gt;, respectively."</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">&amp;</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Roboto Condensed"</span>),</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x =</span> <span class="fu">element_line</span>(),</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face=</span><span class="st">"bold"</span>, <span class="at">color=</span><span class="st">"blue"</span>),</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_markdown</span>(<span class="at">color=</span><span class="st">"grey50"</span>, <span class="at">size=</span><span class="fu">rel</span>(<span class="fl">0.9</span>)),</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.placement =</span> <span class="st">"outside"</span>,</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>))</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex1_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<p>Although there is an overall increase in market prices, the New Sale market experienced a decrease due to the increase in supply</p>
</div>
</div>
</section>
</section>
<section id="sales-volume" class="level2">
<h2 class="anchored" data-anchor-id="sales-volume">4.2 Sales Volume</h2>
<div class="cell">
<details>
<summary>Show ggplot2 code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>q1 <span class="ot">&lt;-</span> realis_per_unit <span class="sc">%&gt;%</span> <span class="fu">filter</span>(QUARTER <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"2023Q1"</span>, <span class="st">"2024Q1"</span>))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>get_sale_subset <span class="ot">&lt;-</span> <span class="cf">function</span>(type) {</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (type <span class="sc">==</span> <span class="st">"All Sales"</span>) {</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(q1)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  q1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(TYPE_OF_SALE <span class="sc">==</span> type)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>plot_volume_by_sale_type <span class="ot">&lt;-</span> <span class="cf">function</span>(type,</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">bg =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">ylabel =</span> <span class="cn">NULL</span>,</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">yaxis_text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">percent_change =</span> <span class="st">""</span>) {</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  subset <span class="ot">=</span> <span class="fu">get_sale_subset</span>(type)</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(subset, <span class="fu">aes</span>(<span class="at">x =</span> QUARTER, <span class="at">fill =</span> QUARTER)) <span class="sc">+</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">color =</span> <span class="cn">NULL</span>),</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">show.legend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">0</span>,</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> <span class="fl">0.5</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">6000</span>)) <span class="sc">+</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">stat =</span> <span class="st">"count"</span>,</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="fu">after_stat</span>(count),</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">after_stat</span>(count) <span class="sc">+</span> <span class="dv">150</span>,</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> QUARTER,</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">family =</span> <span class="st">"Roboto Condensed"</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"darkgrey"</span>, <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"darkgrey"</span>, <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add market and the percent change</span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">paste0</span>(type, percent_change), <span class="at">y =</span> ylabel) <span class="sc">+</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.y =</span> yaxis_text,</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.background =</span> bg)</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine plots for visualization</span></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Ideally, the percentages are generated dynamically. However, setting the color in visualization and revising the headlines and subtitles are not straightforward to do dynamically</span></span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>q1_all_sales_vol <span class="ot">&lt;-</span></span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_volume_by_sale_type</span>(</span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">"All Sales"</span>,</span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylabel =</span> <span class="st">"No. of Sales"</span>,</span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis_text =</span> <span class="fu">element_text</span>(),</span>
<span id="cb31-49"><a href="#cb31-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"aliceblue"</span>, <span class="at">linewidth =</span> <span class="dv">0</span>),</span>
<span id="cb31-50"><a href="#cb31-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">percent_change =</span> <span class="st">" (&lt;span style='color:darkgreen;'&gt;**+1.5%**&lt;/span&gt;)"</span></span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a>q1_new_sale_vol <span class="ot">&lt;-</span></span>
<span id="cb31-53"><a href="#cb31-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_volume_by_sale_type</span>(<span class="st">"New Sale"</span>, <span class="at">percent_change =</span> <span class="st">" (&lt;span style='color:darkgreen;'&gt;**+15.2%**&lt;/span&gt;)"</span>)</span>
<span id="cb31-54"><a href="#cb31-54" aria-hidden="true" tabindex="-1"></a>q1_resale_vol <span class="ot">&lt;-</span></span>
<span id="cb31-55"><a href="#cb31-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_volume_by_sale_type</span>(<span class="st">"Resale"</span>, <span class="at">percent_change =</span> <span class="st">" (&lt;span style='color:brown;'&gt;**-6.1**%&lt;/span&gt;)"</span>)</span>
<span id="cb31-56"><a href="#cb31-56" aria-hidden="true" tabindex="-1"></a>q1_sub_sale_vol <span class="ot">&lt;-</span></span>
<span id="cb31-57"><a href="#cb31-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_volume_by_sale_type</span>(<span class="st">"Sub Sale"</span>, <span class="at">percent_change =</span> <span class="st">" (&lt;span style='color:darkgreen;'&gt;**+25.7%**&lt;/span&gt;)"</span>)</span>
<span id="cb31-58"><a href="#cb31-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-59"><a href="#cb31-59" aria-hidden="true" tabindex="-1"></a>(q1_all_sales_vol <span class="sc">|</span></span>
<span id="cb31-60"><a href="#cb31-60" aria-hidden="true" tabindex="-1"></a>    q1_new_sale_vol <span class="sc">|</span> q1_resale_vol <span class="sc">|</span> q1_sub_sale_vol) <span class="sc">+</span></span>
<span id="cb31-61"><a href="#cb31-61" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Add headline and subtitle</span></span>
<span id="cb31-62"><a href="#cb31-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">"Singapore Private Property Sales Volume Up 1.5% from Q1 2023 to Q1 2024."</span>,</span>
<span id="cb31-63"><a href="#cb31-63" aria-hidden="true" tabindex="-1"></a>                  <span class="at">subtitle =</span> <span class="st">"Among the markets, **Sub Sale** showed the highest percentage growth with a &lt;span style='color:darkgreen;'&gt;**25.7%**&lt;/span&gt; increase, while the **Resale** market&lt;br/&gt;experienceda decline of &lt;span style='color:brown;'&gt;**6.1%**&lt;/span&gt;."</span>) <span class="sc">&amp;</span></span>
<span id="cb31-64"><a href="#cb31-64" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set universal styles</span></span>
<span id="cb31-65"><a href="#cb31-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb31-66"><a href="#cb31-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Roboto Condensed"</span>),</span>
<span id="cb31-67"><a href="#cb31-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"blue"</span>),</span>
<span id="cb31-68"><a href="#cb31-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_markdown</span>(<span class="at">color =</span> <span class="st">"#464646"</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">0.9</span>)),</span>
<span id="cb31-69"><a href="#cb31-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_markdown</span>(),</span>
<span id="cb31-70"><a href="#cb31-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x =</span> <span class="fu">element_line</span>(),</span>
<span id="cb31-71"><a href="#cb31-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb31-72"><a href="#cb31-72" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex1_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="diving-deep-into-the-2024-q1-market" class="level2">
<h2 class="anchored" data-anchor-id="diving-deep-into-the-2024-q1-market">4.3 Diving deep into the 2024 Q1 Market</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>q12024 <span class="ot">&lt;-</span> realis_per_unit <span class="sc">%&gt;%</span> <span class="fu">filter</span>(QUARTER<span class="sc">==</span><span class="st">"2024Q1"</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q12024, <span class="fu">aes</span>(<span class="at">x=</span>PROPERTY_TYPE, <span class="at">fill=</span>TYPE_OF_SALE)) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex1_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q12024, <span class="fu">aes</span>(<span class="at">x=</span>PROPERTY_TYPE, <span class="at">y=</span>TRANSACTED_PRICE<span class="sc">/</span><span class="dv">1000</span>, <span class="at">fill=</span>PROPERTY_TYPE)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="fu">median</span>(q12024<span class="sc">$</span>TRANSACTED_PRICE)<span class="sc">/</span><span class="dv">1000</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="fu">mean</span>(q12024<span class="sc">$</span>TRANSACTED_PRICE)<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex1_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>q1_2024_aggregated <span class="ot">=</span> q12024 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(TYPE_OF_SALE, PROPERTY_TYPE) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">COUNT =</span> <span class="fu">n</span>(),</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">MEDIAN_PRICE =</span> <span class="fu">median</span>(TRANSACTED_PRICE),</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">MEAN_PRICE =</span> <span class="fu">mean</span>(TRANSACTED_PRICE),</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">MIN_PRICE =</span> <span class="fu">min</span>(TRANSACTED_PRICE),</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">MAX_PRICE =</span> <span class="fu">max</span>(TRANSACTED_PRICE),</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q1_2024_aggregated, <span class="fu">aes</span>(<span class="at">area=</span>COUNT, <span class="at">fill =</span> TYPE_OF_SALE,</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">label =</span> TYPE_OF_SALE, <span class="at">subgroup =</span> PROPERTY_TYPE)) <span class="sc">+</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex1_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="summary" class="level1">
<h1>5 Summary</h1>
</section>
<section id="references" class="level1">
<h1>6 References</h1>
<p>Lim, Abram. (2024). 13+ Housing &amp; Household Statistics in Singapore (2024).<em>SmartWealth Singapore</em>. <a href="https://smartwealth.sg/housing-household-statistics-singapore/" class="uri">https://smartwealth.sg/housing-household-statistics-singapore/</a></p>
<p>Trading Economics. (2024). <em>Home Ownership Rate | G20</em>. <a href="https://tradingeconomics.com/country-list/home-ownership-rate?continent=g20" class="uri">https://tradingeconomics.com/country-list/home-ownership-rate?continent=g20</a></p>
<p><a href="https://www.dbs.com.sg/personal/articles/nav/my-home/cooling-measures-in-singapore" class="uri">https://www.dbs.com.sg/personal/articles/nav/my-home/cooling-measures-in-singapore</a></p>
<p><a href="https://www.cedricscherer.com/2019/08/05/a-ggplot2-tutorial-for-beautiful-plotting-in-r/https://www.cedricscherer.com/2019/08/05/a-ggplot2-tutorial-for-beautiful-plotting-in-r/" class="uri">https://www.cedricscherer.com/2019/08/05/a-ggplot2-tutorial-for-beautiful-plotting-in-r</a></p>
<p><a href="https://www.propertyguru.com.sg/property-guides/singapore-property-market-outlook-2024-90041#1" class="uri">https://www.propertyguru.com.sg/property-guides/singapore-property-market-outlook-2024-90041#1</a></p>
<p><a href="https://akalestale.netlify.app/take-home_ex/take-home_ex01/take-home_ex01" class="uri">https://akalestale.netlify.app/take-home_ex/take-home_ex01/take-home_ex01</a> (stat_halfeye usage)</p>
<p><a href="https://sape.inf.usi.ch/quick-reference/ggplot2/colour" class="uri">https://sape.inf.usi.ch/quick-reference/ggplot2/colour</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>