[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "",
    "text": "This hands-on exercise covers Chapter 1: A Layered Grammar of Graphics: ggplot2 methods.\nI learned about the following:\n\nUseful functions and components in ggplot2 .\nGrammar of Graphics to guide how data is visualized"
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#loading-the-required-libraries",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#loading-the-required-libraries",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "Loading the required libraries",
    "text": "Loading the required libraries\n\n\n\n\n\n\nMark this chunk for setup so it ensures loading of required libraries when another code chunk is run\n\n\n\n\npacman::p_load(tidyverse)"
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#loading-the-data",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#loading-the-data",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "Loading the data",
    "text": "Loading the data\nWe first need to download the provided data set from eLearn and put it under the data folder.\n\n\n\n\n\n\nFile structure\n\n\n\n\n\n\n\n\n\nNext, read the data by using read_csv() from readr package.\n\nexam_data &lt;- read_csv(\"data/Exam_data.csv\")\nglimpse(exam_data)\n\nRows: 322\nColumns: 7\n$ ID      &lt;chr&gt; \"Student321\", \"Student305\", \"Student289\", \"Student227\", \"Stude…\n$ CLASS   &lt;chr&gt; \"3I\", \"3I\", \"3H\", \"3F\", \"3I\", \"3I\", \"3I\", \"3I\", \"3I\", \"3H\", \"3…\n$ GENDER  &lt;chr&gt; \"Male\", \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Male\", \"M…\n$ RACE    &lt;chr&gt; \"Malay\", \"Malay\", \"Chinese\", \"Chinese\", \"Malay\", \"Malay\", \"Chi…\n$ ENGLISH &lt;dbl&gt; 21, 24, 26, 27, 27, 31, 31, 31, 33, 34, 34, 36, 36, 36, 37, 38…\n$ MATHS   &lt;dbl&gt; 9, 22, 16, 77, 11, 16, 21, 18, 19, 49, 39, 35, 23, 36, 49, 30,…\n$ SCIENCE &lt;dbl&gt; 15, 16, 16, 31, 25, 16, 25, 27, 15, 37, 42, 22, 32, 36, 35, 45…"
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#data",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#data",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "Data",
    "text": "Data\nThe data layer contains the dataset to be visualized.\n\nggplot(data=exam_data)\n\n\n\n\nThis generated an empty plot as no visual elements have been added to ggplot2 call."
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#aesthetic-mappings",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#aesthetic-mappings",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "Aesthetic Mappings",
    "text": "Aesthetic Mappings\nThe aesthetic mappings take attributes of the data and and use them to influence visual characteristics, such as position, colour, size, shape, or transparency. Each visual characteristic can thus encode an aspect of the data and be used to convey information.\nAll aesthetics of a plot are specified in the aes() function call.\n\nggplot(data=exam_data, \n       aes(x= MATHS))\n\n\n\n\nThis maps the MATHS column of exam_data to the x-axis of the plot. The axis range is based on the range of this dataset.\n\nmin(exam_data[\"MATHS\"])\n\n[1] 9\n\n\n\nmax(exam_data[\"MATHS\"])\n\n[1] 99"
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#geometrics",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#geometrics",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "Geometrics",
    "text": "Geometrics\n\nTypes\nGeometric objects are the actual marks we put on a plot. Examples include:\n\ngeom_point for drawing individual points (e.g., a scatter plot)\ngeom_line for drawing lines (e.g., for a line charts)\ngeom_smooth for drawing smoothed lines (e.g., for simple trends or approximations)\ngeom_bar for drawing bars (e.g., for bar charts)\ngeom_histogram for drawing binned values (e.g. a histogram)\ngeom_polygon for drawing arbitrary shapes\ngeom_map for drawing polygons in the shape of a map! (You can access the data to use for these maps by using the map_data() function).\n\nA plot can have multiple geometrics. Other available geometrics can be found in https://ggplot2.tidyverse.org/reference/#section-layer-geoms.\n\n\ngeom_bar()\ngeom_bar() plots a bar chart.\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar()\n\n\n\n\n\n\ngeom_dotplot()\ngeom_dotplot() is appropriate for binned data.\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(dotsize = 0.5)\n\n\n\n\nVertical scale is misleading so let’s just remove it.\n\n\n\n\n\n\nNote\n\n\n\n\nscale_y_continuous() is used to turn off the y-axis, and\nbinwidth argument is used to change the binwidth to 2.5.\n\n\n\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(binwidth=2.5,         \n               dotsize = 0.5) +      \n  scale_y_continuous(NULL,           \n                     breaks = NULL)  \n\n\n\n\n\n\ngeom_histogram()\ngeom_histogram() is for generating a histogram. (default bin = 30)\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_histogram()\n\n\n\n\nLet’s change the histogram bin and color.\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20,            \n                 color=\"black\",      \n                 fill=\"light blue\")  \n\n\n\n\n\n\nChanging geometry by using aes()\nIn this example, we partition the data (e.g. Female vs Male) and color each bar corresponding to the partition differently.\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           fill = GENDER)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\")\n\n\n\n\n\n\ngeom_density()\ngeom-density() computes and plots kernel density estimate, which is a smoothed version of the histogram.\nThis is appropriate for continuous data.\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_density()           \n\n\n\n\nIt can be used with partitioned data as well.\n\nggplot(data=exam_data, \n       aes(x = MATHS, \n           colour = GENDER)) +\n  geom_density()\n\n\n\n\n\n\ngeom_boxplot()\ngeom_boxplot() displays continuous value list. It visualises five summary statistics (the median, two hinges and two whiskers), and all “outlying” points individually.\nIt is appropriate for visualizing the distribution of a dataset.\n\nggplot(data=exam_data, \n       aes(y = MATHS,       \n           x= GENDER)) +    \n  geom_boxplot()            \n\n\n\n\nNotches are used in box plots to help visually assess whether the medians of distributions differ. If the notches do not overlap, this is evidence that the medians are different.\nNotches can be used by supplying notches=true.\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot(notch=TRUE)\n\n\n\n\n\n\ngeom_violin()\ngeom_violin is designed for creating violin plot. Violin plots are a way of comparing multiple data distributions. With ordinary density curves, it is difficult to compare more than just a few distributions because the lines visually interfere with each other. With a violin plot, it’s easier to compare several distributions since they’re placed side by side.\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_violin()\n\n\n\n\n\n\ngeom_point()\ngeom_point() is especially useful for creating scatterplot.\nThe plot below shows the plot of Maths and English grades.\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point()            \n\n\n\n\n\n\nCombining geom objects\nMultiple geom objects can be combined in a single plot like below, combining a boxplot and scatterplot.\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot() +                    \n  geom_point(position=\"jitter\", \n             size = 0.5)"
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#statistics",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#statistics",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "Statistics",
    "text": "Statistics\nThe Statistics functions statistically transform data, usually as some form of summary. For example:\n\nfrequency of values of a variable (bar graph)\n\na mean\na confidence limit\n\nThere are two ways to use these functions:\n\nadd a stat_() function and override the default geom, or\nadd a geom_() function and override the default stat.\n\n\n\nAdding mean to the boxplot\nThe boxplot show summary of the dataset based on quantiles. Hence, we can see the median but not the mean.\n\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot()\n\n\n\n\nWe can add the mean by using the stat_summary() function.\n\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  stat_summary(geom = \"point\",       \n               fun=\"mean\",         \n               colour =\"red\",        \n               size=4)               \n\n\n\n\nThis adds a red dot corresponding to the mean to the boxplot.\n\n\nGenerating the stat using the geom_() functions\nAlternatively, the result above can also be generated by using geom_point() with stat parameter.\n\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  geom_point(stat=\"summary\",        \n             fun=\"mean\",           \n             colour =\"red\",          \n             size=4)          \n\n\n\n\n\n\n\n\n\n\nImportant\n\n\n\nUsing fun.y generated the warning below:\nWarning: The `fun.y` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.\nPlease use the `fun` argument instead.\nHence, I replace fun.y with just fun.\n\n\n\n\nGenerating best fit curve\nBest fit curve can be generated by using geom_smooth(). We can add this to the English vs Maths scatterplot previously generated.\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(linewidth=0.5, color=\"red\")\n\n\n\n\nWe can also generate a best fit line by specifying method=lm instead of the default loess.\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=\"lm\", linewidth=0.5, color=\"red\")"
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#facets",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#facets",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "Facets",
    "text": "Facets\nFacetting generates small multiples (sometimes also called trellis plot), each displaying a different subset of the data. They are an alternative to aesthetics for displaying additional discrete variables. ggplot2 supports two types of factes, namely: facet_grid() and facet_wrap.\n\nfacet_wrap()\nfacet_wrap wraps a 1d sequence of panels into 2d. This is generally a better use of screen space than facet_grid because most displays are roughly rectangular.\nThe code chunk below generates multiple histograms for Maths grades for each class.\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n    facet_wrap(~ CLASS)\n\n\n\n\n\n\nfacet_grid()\nfacet_grid() forms a matrix of panels defined by row and column facetting variables. It is most useful when you have two discrete variables, and all combinations of the variables exist in the data.\nThe code chunk below visualizes the same data above but using facet_grid().\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n    facet_grid(~ CLASS)"
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#coordinates",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#coordinates",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "Coordinates",
    "text": "Coordinates\nThe Coordinates functions map the position of objects onto the plane of the plot. There are a number of different possible coordinate systems to use, they are:\n\ncoord_cartesian(): the default cartesian coordinate systems, where you specify x and y values (e.g. allows you to zoom in or out).\ncoord_flip(): a cartesian system with the x and y flipped.\ncoord_fixed(): a cartesian system with a “fixed” aspect ratio (e.g. 1.78 for a “widescreen” plot).\ncoord_quickmap():\n\n\nFlipping coordinates\nBy the default, the bar chart of ggplot2 is in vertical form.\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar()\n\n\n\n\nWe can transform the vertical to horizontal bars by using coord_flip().\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip()\n\n\n\n\n\n\nChanging axis range\nThe scatterplot below may be misleading as the axis range are different.\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, linewidth=0.5)\n\n\n\n\nThis is because by default, the axis range was generated based on the min and max values in the dataset.\nWe can apply context and set axis ranges based on the real life min and max values (0 and 100, respectively).\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              linewidth=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))"
  },
  {
    "objectID": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#themes",
    "href": "Hands-on_Exs/Ex1/Hands-on_Ex1.html#themes",
    "title": "Hands-on Exercise 1: A Layered Grammar of Graphics: ggplot2 methods",
    "section": "Themes",
    "text": "Themes\nThemes control elements of the graph not related to the data. For example:\n\nbackground colour\nsize of fonts\ngridlines\ncolour of labels\n\nBuilt-in themes include: - theme_gray() (default) - theme_bw() - theme_classic()\nA list of theme can be found at this link. Each theme element can be conceived of as either a line (e.g. x-axis), a rectangle (e.g. graph background), or text (e.g. axis title).\nApplying the built-in themes is as simple as applying the theme_* functions.\n\nggplot(data=exam_data,\n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_linedraw()"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS608 - Visual Analytics and Applications",
    "section": "",
    "text": "Welcome to ISSS608 Visual Analytics and Applications!\nI am Kristine Joy Paas, or Joy for short.\nIn this webpage, I am going to share with you my learning journey of visual analytics.\nNetlify link: https://isss608-kjcpaas.netlify.app/\nGithub repo: https://github.com/kjcpaas/ISSS608"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "",
    "text": "This hands-on exercise covers Chapter 2: Beyond ggplot Fundamentals.\nI learned about the following:\n\nPackages to extend ggplot2\nImporting custom fonts\nComposing figures using multiple graphs"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#loading-the-required-libraries",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#loading-the-required-libraries",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Loading the required libraries",
    "text": "Loading the required libraries\nIn Hands-on Ex 1, we only used tidyverse and ggplot2. In this exercise, 4 other R packages will be used:\n\nggrepel: an R package provides geoms for ggplot2 to repel overlapping text labels.\nggthemes: an R package provides some extra themes, geoms, and scales for ‘ggplot2’.\nhrbrthemes: an R package provides typography-centric themes and theme components for ggplot2.\npatchwork: an R package for preparing composite figure created using ggplot2.\n\n\npacman::p_load(ggrepel, patchwork, \n               ggthemes, hrbrthemes,\n               tidyverse)"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#loading-the-data",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#loading-the-data",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Loading the data",
    "text": "Loading the data\nWe will use the same exam_data dataset from Hands-on Ex 1 and load it into the RStudio environment using read_csv().\n\nexam_data &lt;- read_csv(\"data/Exam_data.csv\")\nglimpse(exam_data)\n\nRows: 322\nColumns: 7\n$ ID      &lt;chr&gt; \"Student321\", \"Student305\", \"Student289\", \"Student227\", \"Stude…\n$ CLASS   &lt;chr&gt; \"3I\", \"3I\", \"3H\", \"3F\", \"3I\", \"3I\", \"3I\", \"3I\", \"3I\", \"3H\", \"3…\n$ GENDER  &lt;chr&gt; \"Male\", \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Male\", \"M…\n$ RACE    &lt;chr&gt; \"Malay\", \"Malay\", \"Chinese\", \"Chinese\", \"Malay\", \"Malay\", \"Chi…\n$ ENGLISH &lt;dbl&gt; 21, 24, 26, 27, 27, 31, 31, 31, 33, 34, 34, 36, 36, 36, 37, 38…\n$ MATHS   &lt;dbl&gt; 9, 22, 16, 77, 11, 16, 21, 18, 19, 49, 39, 35, 23, 36, 49, 30,…\n$ SCIENCE &lt;dbl&gt; 15, 16, 16, 31, 25, 16, 25, 27, 15, 37, 42, 22, 32, 36, 35, 45…\n\n\nThere are a total of seven attributes in the exam_data tibble data frame. Four of them are categorical data type and the other three are in continuous data type.\n\nThe categorical attributes are: ID, CLASS, GENDER and RACE.\nThe continuous attributes are: MATHS, ENGLISH and SCIENCE."
  },
  {
    "objectID": "In-class_Exs/Ex1/In-class_Ex1.html",
    "href": "In-class_Exs/Ex1/In-class_Ex1.html",
    "title": "In-class Exercise 1",
    "section": "",
    "text": "pacman::p_load(tidyverse)\n\nUsing read_csv() imports as tibble data frame\n\nrealis &lt;- read_csv(\"data/realis2019.csv\")\n\nUsing read.csv() will import as data.frame.\n\nrealis.csv &lt;- read.csv(\"data/realis2019.csv\")"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#working-with-ggreprel",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#working-with-ggreprel",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Working with ggreprel",
    "text": "Working with ggreprel\nggrepel is an extension of ggplot2 package which provides geoms for ggplot2 to repel overlapping text like below.\nWe simply replace geom_text() by geom_text_repel() and geom_label() by geom_label_repel.\n\n\nShow the code\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              linewidth=0.5) +  \n  geom_label_repel(aes(label = ID), \n             fontface=\"bold\") +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#working-with-ggtheme-package",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#working-with-ggtheme-package",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Working with ggtheme package",
    "text": "Working with ggtheme package\nggthemes provides ‘ggplot2’ themes that replicate the look of plots by Edward Tufte, Stephen Few, Fivethirtyeight, The Economist, ‘Stata’, ‘Excel’, and The Wall Street Journal, among others.\nSome of the themes provided by the package are show below:\n\nCalcThe EconomistThe Economist (white)ExcelExcel (new)FivethirtyeightSolarizedStataThe Wall Street Journal\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_calc()\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_economist()\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_economist_white()\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_excel()\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_excel_new()\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_fivethirtyeight()\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_solarized()\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_stata()\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_wsj()"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#working-with-hbrthemes-package",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#working-with-hbrthemes-package",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Working with hbrthemes package",
    "text": "Working with hbrthemes package\nhrbrthemes package provides a base theme that focuses on typographic elements, including where various labels are placed as well as the fonts that are used.\n\n\n\n\n\n\nImporting required fonts\n\n\n\n\n\nSome of the themes use custom fonts. To install these fonts, the corresponding import command must be run first, e.g.\n\nimport_econ_sans()\n\nThis will show where there fonts are located.\nNext, import the font in the location to your system.\n\nMac: https://support.apple.com/en-sg/guide/font-book/fntbk1000/mac\nWindows: https://support.microsoft.com/en-us/office/add-a-font-b7c5f17c-4426-4b53-967f-455339c564c1\nLinux: https://linuxiac.com/how-to-install-fonts-on-linux\n\nIn future exercises, if these themes will be used, these steps must be added to the setup code chunk.\n\n\n\nSome of the themes provided by the package are show below:\n\nft_rcipsumipsum_esipsum_interipsum_gs\n\n\n\n\n\n\n\n\nNote\n\n\n\nImport Roboto Condensed font first:\n\nimport_roboto_condensed()\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_ft_rc()\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_ipsum()\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis requires the Econ Sans font to be installed and imported first:\n\nimport_econ_sans()\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_ipsum_es()\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nImport Inter font first:\n\nimport_inter()\n\nAfter installing the font, run:\n\nextrafont::font_import()\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_ipsum_inter()\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis requires the Goldman Sans Condensed font to be installed and imported first:\n\nimport_goldman_sans()\n\n\n\n\n\nShow the code\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_ipsum_gs()"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#base-graphs",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#base-graphs",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Base Graphs",
    "text": "Base Graphs\n\nDistribution of Maths scoresDistribution of English scoresEnglish vs Maths scores for Primary 3\n\n\n\n\nShow the code\np1 &lt;- ggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") + \n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of Maths scores\")\np1\n\n\n\n\n\n\n\n\n\nShow the code\np2 &lt;- ggplot(data=exam_data, \n             aes(x = ENGLISH)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of English scores\")\np2\n\n\n\n\n\n\n\n\n\nShow the code\np3 &lt;- ggplot(data=exam_data, \n             aes(x= MATHS, \n                 y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English vs Maths scores (Primary 3)\")\np3"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#creating-composite-graphics-pathwork-methods",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#creating-composite-graphics-pathwork-methods",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Creating Composite Graphics: pathwork methods",
    "text": "Creating Composite Graphics: pathwork methods\nThere are several ggplot2 extension’s functions support the needs to prepare composite figure by combining several graphs such as grid.arrange() of gridExtra package and plot_grid() of cowplot package. In this section, I am going to shared with you an ggplot2 extension called patchwork which is specially designed for combining separate ggplot2 graphs into a single figure.\nPatchwork package has a very simple syntax where we can create layouts super easily. Here’s the general syntax that combines:\n\nTwo-Column Layout using the Plus Sign +.\nParenthesis () to create a subplot group.\nTwo-Row Layout using the Division Sign /"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#combining-two-ggplot2-graphs-using",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#combining-two-ggplot2-graphs-using",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Combining two ggplot2 graphs using ‘+’",
    "text": "Combining two ggplot2 graphs using ‘+’\nUsing + is the simplest way to combine multiple graphs. This will show them side by side\n\np1 + p2"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#combining-three-ggplot2-graphs-using-pathwork",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#combining-three-ggplot2-graphs-using-pathwork",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Combining three ggplot2 graphs using pathwork",
    "text": "Combining three ggplot2 graphs using pathwork\nAside from +, patchwork provides other operators we can use to compose plots:\n\n“/” operator to stack two ggplot2 graphs,\n“|” operator to place the plots beside each other,\n“()” operator the define the sequence of the plotting.\n\nFor example, if we want to stack the two bar graphs, and show the scatterplot to the right, we can do:\n\n(p1 / p2) | p3"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#tagging-composed-graphs",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#tagging-composed-graphs",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Tagging composed graphs",
    "text": "Tagging composed graphs\npatchwork provides auto-tagging capabilities so the individual graphs can more easily be referred in text.\n\n((p1 / p2) | p3) +\n  plot_annotation(tag_levels = '1')\n\n\n\n\nFor example, we can refer to the Distributions of Maths scores graph as Graph 1, corresponding to the annotation provided."
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#creating-figure-with-insert",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#creating-figure-with-insert",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Creating figure with insert",
    "text": "Creating figure with insert\nBeside providing functions to place plots next to each other based on the provided layout. With inset_element() of patchwork, we can place one or several plots or graphic elements freely on top or below another plot.\n\np3 + inset_element(p2, \n                   left = 0.02, \n                   bottom = 0.7, \n                   right = 0.5, \n                   top = 1)\n\n\n\n\nThis is useful for providing supplementary details to the main graph."
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#creating-a-composite-figure-by-using-patchwork-and-ggtheme",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#creating-a-composite-figure-by-using-patchwork-and-ggtheme",
    "title": "Hands-on Exercise 2",
    "section": "Creating a composite figure by using patchwork and ggtheme",
    "text": "Creating a composite figure by using patchwork and ggtheme\nWe can also add a theme to the composite figure.\n\nThe Economist (ggtheme)Ipsum_es (hrbrtheme)\n\n\n\npatchwork &lt;- (p1 / p2) | p3\npatchwork & theme_economist()\n\n\n\n\n\n\n\npatchwork &lt;- (p1 / p2) | p3\npatchwork & theme_ipsum_es()"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#applying-themes-to-the-composite-figure.",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#applying-themes-to-the-composite-figure.",
    "title": "Hands-on Exercise 2",
    "section": "Applying themes to the composite figure.",
    "text": "Applying themes to the composite figure.\n\nThe Economist (ggtheme)Ipsum_es (hrbrtheme)\n\n\n\npatchwork &lt;- (p1 / p2) | p3\npatchwork & theme_economist()\n\n\n\n\n\n\n\npatchwork &lt;- (p1 / p2) | p3\npatchwork & theme_ipsum_es()"
  },
  {
    "objectID": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#applying-themes-to-the-composite-figure",
    "href": "Hands-on_Exs/Ex2/Hands-on_Ex2.html#applying-themes-to-the-composite-figure",
    "title": "Hands-on Exercise 2: Beyond ggplot Fundamentals",
    "section": "Applying themes to the composite figure",
    "text": "Applying themes to the composite figure\nWe can apply the theme by using & theme_() to the patchwork result.\n\nThe Economist (ggtheme)Ipsum_es (hrbrtheme)\n\n\n\npatchwork &lt;- (p1 / p2) | p3\npatchwork & theme_economist()\n\n\n\n\n\n\n\npatchwork &lt;- (p1 / p2) | p3\npatchwork & theme_ipsum_es()"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "",
    "text": "Singapore has one of the highest home ownership rates in the world at 89.7%, 2nd only to Russia among the G20 countries. Due to Singapore’s successful public housing program, 77.8% of Singapore residents live in HDB flats, while 22% live in private properties like condos or landed properties.\nWhile the HDB market targets Singaporeans with household income of up to 14,000 SGD, the private housing market is Singapore is still in demand for households looking to upgrade, invest their property, and for residents not eligible for public housing (e.g. high income household, foreigners, etc.)\nIn this exercise we will look at the market trends for private residential property market for 2024 Q1 and see how the economic factors have affected it.\n\n\n\nFor this exercise, we will use the residential real estate transaction data from REALIS. This provides comprehensive and up-to-date statistics on the private property market in Singapore.\nThe dataset has been provided via eLearn and added to the data/ folder of this exercise.\n\n\n\n\n\n\nFile Structure\n\n\n\n\n\n\n\n\n\nFor the purposes of this exercise, we will refer to each data as the following:\n\n2023Q1: ResidentialTransaction20240308160536.csv\n2023Q2: ResidentialTransaction20240308160736.csv\n2023Q3: ResidentialTransaction20240308161009.csv\n2023Q4: ResidentialTransaction20240308161109.csv\n2024Q1: ResidentialTransaction20240414220633.csv\n\n\n\n\nTo start the data analysis, we first need to prepare the R environment for analysis. This includes loading the R packages and loading the datasets.\nAfter the setup, we need to do data wrangling where we clean and transform the data into a form that is fitting for our analysis. This will possible entail removing irrelevant data, deriving additional variables, renaming columns, etc.\nNext, we need to decide on what data we would like to look at closely. For the purposes of this exercise, these are the data we can look at that can potentially give valuable insights:\n\nTotal units sold by quarter\nUnits sold by submarkets such as property type (e.g. landed, strata), sale type (e.g. resale, new sale, subsale), etc.\nTransaction price by submarkets such property type (e.g. landed, strata), sale type (e.g. resale, new sale, subsale), etc.\n\nFinally, we will do data exploration and visualize the insights gained from the data. Some of the questions we would ask are:\n\nWhat is the general quarterly trend of private residential property sales prices?\nIs this trend consistent among all submarkets?\nHow affordable are private residential properties for Singaporean households?"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#the-data",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#the-data",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default",
    "section": "",
    "text": "For this exercise, we will use the residential real estate transaction data from REALIS. This provides comprehensive and up-to-date statistics on the property market in Singapore.\nThe dataset has been provided via eLearn and added to the data/ folder of this exercise."
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#loading-the-r-packages",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#loading-the-r-packages",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "2.1 Loading the R packages",
    "text": "2.1 Loading the R packages\nFor this exercise, we will mainly use the following packages:\n\ntidyverse: collection of R packages used in data science, which includes ggplot2, tibble, readr, among others\nggtext: Enhanced text formating\nggdist: half_eye plot\n\nAside from these, we will also include other packages that will help us present the data better.\n\nknitr: used for dynamic report generation in R. For this exercise, we will use this package to render our tables better.\n\n\npacman::p_load(knitr, tidyverse, patchwork, ggdist, ggtext, ggpubr, treemapify)"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#import-the-datasets",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#import-the-datasets",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default",
    "section": "2.2 Import the datasets",
    "text": "2.2 Import the datasets\nFirst, we need to import the provided datasets.\nUpon inspecting the csv file, column names have human-readable titles such as “Project Name”, “Transacted Price ($)”, etc. While good for humans, these column names may cause parsing issues with R, especially as there are special characters.\nBecause of this, we will rename the columns in their UPPER_CASE format after removing the special characters.\n\n\n\n\n\n\nrenameRealisColumn()\n\n\n\n\nrenameRealisColumn &lt;- function(orig_name) {\n  uppercase = gsub(\"[^A-Z ]\", \"\", toupper(orig_name)) %&gt;% trimws()\n  gsub(\" +\", \"_\", uppercase)\n}\n\n\n\nWe will use read_csv() for each csv file to do this.\n\n\n\n\n\n\nIssues with column names\n\n\n\n\n\nSome of the column names have special characters that affect the data import.\nFor example, if we read one of the files without any revisions, it results into the following:\n\nread_csv('data/ResidentialTransaction20240308160536.csv') %&gt;%\n  head() %&gt;%\n  kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProject Name\nTransacted Price (\\()| Area (SQFT)| Unit Price (\\) PSF)\nSale Date\nAddress\nType of Sale\nType of Area\nArea (SQM)\nUnit Price ($ PSM)\nNett Price($)\nProperty Type\nNumber of Units\nTenure\nCompletion Date\nPurchaser Address Indicator\nPostal Code\nPostal District\nPostal Sector\nPlanning Region\nPlanning Area\n\n\n\n\n\n\nTHE REEF AT KING’S DOCK\n2317000\n882.65\n2625\n01 Jan 2023\n12 HARBOURFRONT AVENUE #05-32\nNew Sale\nStrata\n82.0\n28256\n-\nCondominium\n1\n99 yrs from 12/01/2021\nUncompleted\nHDB\n097996\n04\n09\nCentral Region\nBukit Merah\n\n\nURBAN TREASURES\n1823500\n882.65\n2066\n02 Jan 2023\n205 JALAN EUNOS #08-02\nNew Sale\nStrata\n82.0\n22238\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n419535\n14\n41\nEast Region\nBedok\n\n\nNORTH GAIA\n1421112\n1076.40\n1320\n02 Jan 2023\n29 YISHUN CLOSE #08-10\nNew Sale\nStrata\n100.0\n14211\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n269343\n27\n26\nNorth Region\nYishun\n\n\nNORTH GAIA\n1258112\n1033.34\n1218\n02 Jan 2023\n45 YISHUN CLOSE #07-42\nNew Sale\nStrata\n96.0\n13105\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n269294\n27\n26\nNorth Region\nYishun\n\n\nPARC BOTANNIA\n1280000\n871.88\n1468\n03 Jan 2023\n12 FERNVALE STREET #06-16\nResale\nStrata\n81.0\n15802\n-\nCondominium\n1\n99 yrs from 28/12/2016\n2022\nHDB\n797391\n28\n79\nNorth East Region\nSengkang\n\n\nNANYANG PARK\n5870000\n3322.85\n1767\n03 Jan 2023\n72 JALAN LIMBOK\nResale\nLand\n308.7\n19015\n-\nTerrace House\n1\n999 yrs from 14/02/1881\n-\nPrivate\n548742\n19\n54\nNorth East Region\nHougang\n\n\n\n\n\nAs shown above, the headers for Transacted Price ($),Area (SQFT), UnitPrice(PSF) have merged and the $ did not render properly.\nTo prevent this, we will rename $ in the column names to SGD using rename() function.\n\n\n\n\n2023 Q12023 Q22023 Q32023 Q42024 Q1\n\n\n\nres_txn2023_q1 &lt;- read_csv('data/ResidentialTransaction20240308160536.csv') %&gt;%\n                  rename(\n                    \"Transacted Price (SGD)\" = \"Transacted Price ($)\",\n                    \"Unit Price (SGD PSF)\" = \"Unit Price ($ PSF)\",\n                    \"Unit Price (SGD PSM)\" = \"Unit Price ($ PSM)\",\n                    \"Nett Price(SGD)\" = \"Nett Price($)\"\n                  )\nkable(head(res_txn2023_q1, n=10))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProject Name\nTransacted Price (SGD)\nArea (SQFT)\nUnit Price (SGD PSF)\nSale Date\nAddress\nType of Sale\nType of Area\nArea (SQM)\nUnit Price (SGD PSM)\nNett Price(SGD)\nProperty Type\nNumber of Units\nTenure\nCompletion Date\nPurchaser Address Indicator\nPostal Code\nPostal District\nPostal Sector\nPlanning Region\nPlanning Area\n\n\n\n\nTHE REEF AT KING’S DOCK\n2317000\n882.65\n2625\n01 Jan 2023\n12 HARBOURFRONT AVENUE #05-32\nNew Sale\nStrata\n82.0\n28256\n-\nCondominium\n1\n99 yrs from 12/01/2021\nUncompleted\nHDB\n097996\n04\n09\nCentral Region\nBukit Merah\n\n\nURBAN TREASURES\n1823500\n882.65\n2066\n02 Jan 2023\n205 JALAN EUNOS #08-02\nNew Sale\nStrata\n82.0\n22238\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n419535\n14\n41\nEast Region\nBedok\n\n\nNORTH GAIA\n1421112\n1076.40\n1320\n02 Jan 2023\n29 YISHUN CLOSE #08-10\nNew Sale\nStrata\n100.0\n14211\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n269343\n27\n26\nNorth Region\nYishun\n\n\nNORTH GAIA\n1258112\n1033.34\n1218\n02 Jan 2023\n45 YISHUN CLOSE #07-42\nNew Sale\nStrata\n96.0\n13105\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n269294\n27\n26\nNorth Region\nYishun\n\n\nPARC BOTANNIA\n1280000\n871.88\n1468\n03 Jan 2023\n12 FERNVALE STREET #06-16\nResale\nStrata\n81.0\n15802\n-\nCondominium\n1\n99 yrs from 28/12/2016\n2022\nHDB\n797391\n28\n79\nNorth East Region\nSengkang\n\n\nNANYANG PARK\n5870000\n3322.85\n1767\n03 Jan 2023\n72 JALAN LIMBOK\nResale\nLand\n308.7\n19015\n-\nTerrace House\n1\n999 yrs from 14/02/1881\n-\nPrivate\n548742\n19\n54\nNorth East Region\nHougang\n\n\nPALMS @ SIXTH AVENUE\n4950000\n4520.88\n1095\n03 Jan 2023\n231 SIXTH AVENUE\nResale\nStrata\n420.0\n11786\n-\nSemi-Detached House\n1\nFreehold\n2015\nPrivate\n275780\n10\n27\nCentral Region\nBukit Timah\n\n\nN.A.\n3260000\n1555.40\n2096\n03 Jan 2023\n19 TENG TONG ROAD\nResale\nLand\n144.5\n22561\n-\nTerrace House\n1\nFreehold\n1941\nPrivate\n423510\n15\n42\nCentral Region\nMarine Parade\n\n\nWHISTLER GRAND\n850000\n441.32\n1926\n03 Jan 2023\n107 WEST COAST VALE #30-04\nSub Sale\nStrata\n41.0\n20732\n-\nApartment\n1\n99 yrs from 07/05/2018\n2022\nHDB\n126751\n05\n12\nWest Region\nClementi\n\n\nNORTHOAKS\n1268000\n1603.84\n791\n03 Jan 2023\n30 WOODLANDS CRESCENT #01-11\nResale\nStrata\n149.0\n8510\n-\nExecutive Condominium\n1\n99 yrs from 16/12/1997\n2000\nHDB\n738086\n25\n73\nNorth Region\nWoodlands\n\n\n\n\n\n\n\n\nres_txn2023_q2 &lt;-\n  read_csv('data/ResidentialTransaction20240308160736.csv') %&gt;%\n  rename(\n    \"Transacted Price (SGD)\" = \"Transacted Price ($)\",\n    \"Unit Price (SGD PSF)\" = \"Unit Price ($ PSF)\",\n    \"Unit Price (SGD PSM)\" = \"Unit Price ($ PSM)\",\n    \"Nett Price(SGD)\" = \"Nett Price($)\"\n  )\nkable(head(res_txn2023_q2, n = 10))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProject Name\nTransacted Price (SGD)\nArea (SQFT)\nUnit Price (SGD PSF)\nSale Date\nAddress\nType of Sale\nType of Area\nArea (SQM)\nUnit Price (SGD PSM)\nNett Price(SGD)\nProperty Type\nNumber of Units\nTenure\nCompletion Date\nPurchaser Address Indicator\nPostal Code\nPostal District\nPostal Sector\nPlanning Region\nPlanning Area\n\n\n\n\nTHE GAZANIA\n1528000\n678.13\n2253\n01 Apr 2023\n15 HOW SUN DRIVE #02-31\nNew Sale\nStrata\n63\n24254\n-\nCondominium\n1\nFreehold\n2022\nN.A\n538545\n19\n53\nNorth East Region\nSerangoon\n\n\nTHE GAZANIA\n1938000\n958.00\n2023\n01 Apr 2023\n7 HOW SUN DRIVE #01-12\nNew Sale\nStrata\n89\n21775\n-\nCondominium\n1\nFreehold\n2022\nPrivate\n538530\n19\n53\nNorth East Region\nSerangoon\n\n\nONE PEARL BANK\n2051000\n699.66\n2931\n01 Apr 2023\n1 PEARL BANK #32-16\nNew Sale\nStrata\n65\n31554\n-\nApartment\n1\n99 yrs from 01/03/2019\nUncompleted\nPrivate\n169016\n03\n16\nCentral Region\nOutram\n\n\nURBAN TREASURES\n1850700\n882.65\n2097\n01 Apr 2023\n205 JALAN EUNOS #05-05\nNew Sale\nStrata\n82\n22570\n-\nCondominium\n1\nFreehold\nUncompleted\nHDB\n419535\n14\n41\nEast Region\nBedok\n\n\nHYLL ON HOLLAND\n2021500\n699.66\n2889\n01 Apr 2023\n97 HOLLAND ROAD #10-25\nNew Sale\nStrata\n65\n31100\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n278541\n10\n27\nCentral Region\nBukit Timah\n\n\nLEEDON GREEN\n1838000\n785.77\n2339\n01 Apr 2023\n34 LEEDON HEIGHTS #12-40\nNew Sale\nStrata\n73\n25178\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n266076\n10\n26\nCentral Region\nBukit Timah\n\n\nKLIMT CAIRNHILL\n7320000\n2055.92\n3560\n01 Apr 2023\n71 CAIRNHILL ROAD #15-01\nNew Sale\nStrata\n191\n38325\n-\nApartment\n1\nFreehold\nUncompleted\nPrivate\n229725\n09\n22\nCentral Region\nNewton\n\n\nIRWELL HILL RESIDENCES\n1497000\n495.14\n3023\n01 Apr 2023\n2 IRWELL HILL #35-04\nNew Sale\nStrata\n46\n32543\n-\nApartment\n1\n99 yrs from 13/04/2020\nUncompleted\nPrivate\n239588\n09\n23\nCentral Region\nRiver Valley\n\n\nIRWELL HILL RESIDENCES\n2002000\n667.37\n3000\n01 Apr 2023\n6 IRWELL HILL #31-09\nNew Sale\nStrata\n62\n32290\n-\nApartment\n1\n99 yrs from 13/04/2020\nUncompleted\nHDB\n239590\n09\n23\nCentral Region\nRiver Valley\n\n\nNORTH GAIA\n1207000\n1001.05\n1206\n01 Apr 2023\n33 YISHUN CLOSE #01-18\nNew Sale\nStrata\n93\n12978\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n769345\n27\n76\nNorth Region\nYishun\n\n\n\n\n\n\n\n\nres_txn2023_q3 &lt;-\n  read_csv('data/ResidentialTransaction20240308161009.csv') %&gt;%\n  rename(\n    \"Transacted Price (SGD)\" = \"Transacted Price ($)\",\n    \"Unit Price (SGD PSF)\" = \"Unit Price ($ PSF)\",\n    \"Unit Price (SGD PSM)\" = \"Unit Price ($ PSM)\",\n    \"Nett Price(SGD)\" = \"Nett Price($)\"\n  )\nkable(head(res_txn2023_q3), n = 10)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProject Name\nTransacted Price (SGD)\nArea (SQFT)\nUnit Price (SGD PSF)\nSale Date\nAddress\nType of Sale\nType of Area\nArea (SQM)\nUnit Price (SGD PSM)\nNett Price(SGD)\nProperty Type\nNumber of Units\nTenure\nCompletion Date\nPurchaser Address Indicator\nPostal Code\nPostal District\nPostal Sector\nPlanning Region\nPlanning Area\n\n\n\n\nMYRA\n1658000\n667.37\n2484\n01 Jul 2023\n9 MEYAPPA CHETTIAR ROAD #02-07\nNew Sale\nStrata\n62\n26742\n-\nApartment\n1\nFreehold\nUncompleted\nN.A\n358456\n13\n35\nCentral Region\nToa Payoh\n\n\nNORTH GAIA\n1449000\n1076.40\n1346\n01 Jul 2023\n27 YISHUN CLOSE #10-06\nNew Sale\nStrata\n100\n14490\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n769342\n27\n76\nNorth Region\nYishun\n\n\nNORTH GAIA\n1365000\n1076.40\n1268\n01 Jul 2023\n27 YISHUN CLOSE #05-06\nNew Sale\nStrata\n100\n13650\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n769342\n27\n76\nNorth Region\nYishun\n\n\nNORTH GAIA\n1231000\n958.00\n1285\n01 Jul 2023\n35 YISHUN CLOSE #08-25\nNew Sale\nStrata\n89\n13831\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n769299\n27\n76\nNorth Region\nYishun\n\n\nNORTH GAIA\n1272000\n1001.05\n1271\n01 Jul 2023\n45 YISHUN CLOSE #09-45\nNew Sale\nStrata\n93\n13677\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n769294\n27\n76\nNorth Region\nYishun\n\n\nPICCADILLY GRAND\n3462000\n1679.18\n2062\n01 Jul 2023\n3 NORTHUMBERLAND ROAD #14-09\nNew Sale\nStrata\n156\n22192\n-\nApartment\n1\n99 yrs from 02/08/2021\nUncompleted\nPrivate\n219569\n08\n21\nCentral Region\nKallang\n\n\n\n\n\n\n\n\nres_txn2023_q4 &lt;-\n  read_csv('data/ResidentialTransaction20240308161109.csv') %&gt;%\n  rename(\n    \"Transacted Price (SGD)\" = \"Transacted Price ($)\",\n    \"Unit Price (SGD PSF)\" = \"Unit Price ($ PSF)\",\n    \"Unit Price (SGD PSM)\" = \"Unit Price ($ PSM)\",\n    \"Nett Price(SGD)\" = \"Nett Price($)\"\n  )\nkable(head(res_txn2023_q4), n = 10)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProject Name\nTransacted Price (SGD)\nArea (SQFT)\nUnit Price (SGD PSF)\nSale Date\nAddress\nType of Sale\nType of Area\nArea (SQM)\nUnit Price (SGD PSM)\nNett Price(SGD)\nProperty Type\nNumber of Units\nTenure\nCompletion Date\nPurchaser Address Indicator\nPostal Code\nPostal District\nPostal Sector\nPlanning Region\nPlanning Area\n\n\n\n\nLEEDON GREEN\n1749000\n538.20\n3250\n01 Oct 2023\n26 LEEDON HEIGHTS #11-08\nNew Sale\nStrata\n50\n34980\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n266221\n10\n26\nCentral Region\nBukit Timah\n\n\nLIV @ MB\n3148740\n1453.14\n2167\n01 Oct 2023\n114A ARTHUR ROAD #01-01\nNew Sale\nStrata\n135\n23324\n-\nCondominium\n1\n99 yrs from 23/11/2021\nUncompleted\nPrivate\n439826\n15\n43\nCentral Region\nMarine Parade\n\n\nMORI\n2422337\n1259.39\n1923\n01 Oct 2023\n223 GUILLEMARD ROAD #05-21\nNew Sale\nStrata\n117\n20704\n-\nApartment\n1\nFreehold\nUncompleted\nPrivate\n399738\n14\n39\nCentral Region\nGeylang\n\n\nTHE ARDEN\n1330000\n721.19\n1844\n01 Oct 2023\n6 PHOENIX ROAD #01-18\nNew Sale\nStrata\n67\n19851\n-\nApartment\n1\n99 yrs from 14/07/2023\nUncompleted\nPrivate\n668159\n23\n66\nWest Region\nBukit Batok\n\n\nLENTOR MODERN\n2237000\n1130.22\n1979\n01 Oct 2023\n3 LENTOR CENTRAL #05-03\nNew Sale\nStrata\n105\n21305\n-\nApartment\n1\n99 yrs from 26/10/2021\nUncompleted\nPrivate\n788888\n26\n78\nNorth East Region\nAng Mo Kio\n\n\nTHE LAKEGARDEN RESIDENCES\n1249900\n592.02\n2111\n01 Oct 2023\n82 YUAN CHING ROAD #04-14\nNew Sale\nStrata\n55\n22725\n-\nCondominium\n1\n99 yrs from 31/05/2023\nUncompleted\nHDB\n619614\n22\n61\nWest Region\nJurong East\n\n\n\n\n\n\n\n\nres_txn2024_q1 &lt;-\n  read_csv('data/ResidentialTransaction20240414220633.csv') %&gt;%\n  rename(\n    \"Transacted Price (SGD)\" = \"Transacted Price ($)\",\n    \"Unit Price (SGD PSF)\" = \"Unit Price ($ PSF)\",\n    \"Unit Price (SGD PSM)\" = \"Unit Price ($ PSM)\",\n    \"Nett Price(SGD)\" = \"Nett Price($)\"\n  )\nkable(head(res_txn2024_q1), n = 10)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProject Name\nTransacted Price (SGD)\nArea (SQFT)\nUnit Price (SGD PSF)\nSale Date\nAddress\nType of Sale\nType of Area\nArea (SQM)\nUnit Price (SGD PSM)\nNett Price(SGD)\nProperty Type\nNumber of Units\nTenure\nCompletion Date\nPurchaser Address Indicator\nPostal Code\nPostal District\nPostal Sector\nPlanning Region\nPlanning Area\n\n\n\n\nTHE LANDMARK\n2726888\n1076.40\n2533\n01 Jan 2024\n173 CHIN SWEE ROAD #22-11\nNew Sale\nStrata\n100\n27269\n-\nCondominium\n1\n99 yrs from 28/08/2020\nUncompleted\nPrivate\n169878\n03\n16\nCentral Region\nOutram\n\n\nPOLLEN COLLECTION\n3850000\n1808.35\n2129\n01 Jan 2024\n34 POLLEN PLACE\nNew Sale\nLand\n168\n22917\n-\nTerrace House\n1\n99 yrs from 09/12/2019\nUncompleted\nN.A\n807233\n28\n80\nNorth East Region\nSerangoon\n\n\nSKY EDEN@BEDOK\n2346000\n1087.16\n2158\n01 Jan 2024\n1 BEDOK CENTRAL #09-10\nNew Sale\nStrata\n101\n23228\n-\nApartment\n1\n99 yrs from 05/01/2022\nUncompleted\nHDB\n469657\n16\n46\nEast Region\nBedok\n\n\nTERRA HILL\n2190000\n807.30\n2713\n01 Jan 2024\n18A YEW SIANG ROAD #03-12\nNew Sale\nStrata\n75\n29200\n-\nApartment\n1\nFreehold\nUncompleted\nN.A\n118992\n05\n11\nCentral Region\nQueenstown\n\n\nPINETREE HILL\n1954000\n796.54\n2453\n01 Jan 2024\n36 PINE GROVE #05-18\nNew Sale\nStrata\n74\n26405\n-\nCondominium\n1\n99 yrs from 12/09/2022\nUncompleted\nPrivate\n598444\n21\n59\nCentral Region\nBukit Timah\n\n\nTHE RESERVE RESIDENCES\n3412201\n1323.97\n2577\n01 Jan 2024\n13 JALAN ANAK BUKIT #28-106\nNew Sale\nStrata\n123\n27741\n-\nApartment\n1\n99 yrs from 29/11/2021\nUncompleted\nPrivate\n589605\n21\n58\nCentral Region\nBukit Timah"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#problem-statement",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#problem-statement",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default",
    "section": "",
    "text": "Trends quarter to quarter (overall)\n\nNumber of sales\nAverage sales\nMedian sales\n\n2024 Q1 HDB sales\n2024 Q1 Private sales"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#background",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#background",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "",
    "text": "Singapore has one of the highest home ownership rates in the world at 89.7%, 2nd only to Russia among the G20 countries. Due to Singapore’s successful public housing program, 77.8% of Singapore residents live in HDB flats, while 22% live in private properties like condos or landed properties.\nWhile the HDB market targets Singaporeans with household income of up to 14,000 SGD, the private housing market is Singapore is still in demand for households looking to upgrade, invest their property, and for residents not eligible for public housing (e.g. high income household, foreigners, etc.)\nIn this exercise we will look at the market trends for private residential property market for 2024 Q1 and see how the economic factors have affected it."
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#loading-the-data-sources",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#loading-the-data-sources",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "",
    "text": "For this exercise, we will use the residential real estate transaction data from REALIS. This provides comprehensive and up-to-date statistics on the private property market in Singapore.\nThe dataset has been provided via eLearn and added to the data/ folder of this exercise.\n\n\n\n\n\n\nFile Structure\n\n\n\n\n\n\n\n\n\nFor the purposes of this exercise, we will refer to each data as the following:\n\n2023Q1: ResidentialTransaction20240308160536.csv\n2023Q2: ResidentialTransaction20240308160736.csv\n2023Q3: ResidentialTransaction20240308161009.csv\n2023Q4: ResidentialTransaction20240308161109.csv\n2024Q1: ResidentialTransaction20240414220633.csv"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#methodology",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#methodology",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "",
    "text": "To start the data analysis, we first need to prepare the R environment for analysis. This includes loading the R packages and loading the datasets.\nAfter the setup, we need to do data wrangling where we clean and transform the data into a form that is fitting for our analysis. This will possible entail removing irrelevant data, deriving additional variables, renaming columns, etc.\nNext, we need to decide on what data we would like to look at closely. For the purposes of this exercise, these are the data we can look at that can potentially give valuable insights:\n\nTotal units sold by quarter\nUnits sold by submarkets such as property type (e.g. landed, strata), sale type (e.g. resale, new sale, subsale), etc.\nTransaction price by submarkets such property type (e.g. landed, strata), sale type (e.g. resale, new sale, subsale), etc.\n\nFinally, we will do data exploration and visualize the insights gained from the data. Some of the questions we would ask are:\n\nWhat is the general quarterly trend of private residential property sales prices?\nIs this trend consistent among all submarkets?\nHow affordable are private residential properties for Singaporean households?"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#importing-the-datasets",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#importing-the-datasets",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "3.1 Importing the datasets",
    "text": "3.1 Importing the datasets\nUpon inspection of the csv files, column names have human-readable titles such as “Project Name”, “Transacted Price ($)”, etc. While good for humans, these column names may cause parsing issues with R, especially as there are special characters.\nBecause of this, we will rename the columns in their UPPER_CASE format after removing the special characters. We will create a helper function that will help us accomplish this:\n\nrename_realis_column &lt;- function(orig_name) {\n  # Add underscores to spaces\n  gsub(\" +\", \"_\",\n       # Remove special characters\n       gsub(\"[^A-Z ]\", \"\",\n            # Convert to upper case and remove trailing spaces\n            toupper(orig_name)) %&gt;% trimws())\n}\n\nWe will use read_csv() to import each file and use rename_realis_column() in the rename_with() function.\n\n2023 Q12023 Q22023 Q32023 Q42024 Q1\n\n\n\nrealis_2023q1 &lt;- read_csv('data/ResidentialTransaction20240308160536.csv') %&gt;%\n                  rename_with(rename_realis_column)\nkable(head(realis_2023q1, n=7))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPROJECT_NAME\nTRANSACTED_PRICE\nAREA_SQFT\nUNIT_PRICE_PSF\nSALE_DATE\nADDRESS\nTYPE_OF_SALE\nTYPE_OF_AREA\nAREA_SQM\nUNIT_PRICE_PSM\nNETT_PRICE\nPROPERTY_TYPE\nNUMBER_OF_UNITS\nTENURE\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\nPOSTAL_CODE\nPOSTAL_DISTRICT\nPOSTAL_SECTOR\nPLANNING_REGION\nPLANNING_AREA\n\n\n\n\nTHE REEF AT KING’S DOCK\n2317000\n882.65\n2625\n01 Jan 2023\n12 HARBOURFRONT AVENUE #05-32\nNew Sale\nStrata\n82.0\n28256\n-\nCondominium\n1\n99 yrs from 12/01/2021\nUncompleted\nHDB\n097996\n04\n09\nCentral Region\nBukit Merah\n\n\nURBAN TREASURES\n1823500\n882.65\n2066\n02 Jan 2023\n205 JALAN EUNOS #08-02\nNew Sale\nStrata\n82.0\n22238\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n419535\n14\n41\nEast Region\nBedok\n\n\nNORTH GAIA\n1421112\n1076.40\n1320\n02 Jan 2023\n29 YISHUN CLOSE #08-10\nNew Sale\nStrata\n100.0\n14211\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n269343\n27\n26\nNorth Region\nYishun\n\n\nNORTH GAIA\n1258112\n1033.34\n1218\n02 Jan 2023\n45 YISHUN CLOSE #07-42\nNew Sale\nStrata\n96.0\n13105\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n269294\n27\n26\nNorth Region\nYishun\n\n\nPARC BOTANNIA\n1280000\n871.88\n1468\n03 Jan 2023\n12 FERNVALE STREET #06-16\nResale\nStrata\n81.0\n15802\n-\nCondominium\n1\n99 yrs from 28/12/2016\n2022\nHDB\n797391\n28\n79\nNorth East Region\nSengkang\n\n\nNANYANG PARK\n5870000\n3322.85\n1767\n03 Jan 2023\n72 JALAN LIMBOK\nResale\nLand\n308.7\n19015\n-\nTerrace House\n1\n999 yrs from 14/02/1881\n-\nPrivate\n548742\n19\n54\nNorth East Region\nHougang\n\n\nPALMS @ SIXTH AVENUE\n4950000\n4520.88\n1095\n03 Jan 2023\n231 SIXTH AVENUE\nResale\nStrata\n420.0\n11786\n-\nSemi-Detached House\n1\nFreehold\n2015\nPrivate\n275780\n10\n27\nCentral Region\nBukit Timah\n\n\n\n\n\nThere are 4,722 private residential propertysales for 2023 Q1.\n\n\n\nrealis_2023q2 &lt;- read_csv('data/ResidentialTransaction20240308160736.csv') %&gt;%\n                  rename_with(rename_realis_column)\nkable(head(realis_2023q2, n=7))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPROJECT_NAME\nTRANSACTED_PRICE\nAREA_SQFT\nUNIT_PRICE_PSF\nSALE_DATE\nADDRESS\nTYPE_OF_SALE\nTYPE_OF_AREA\nAREA_SQM\nUNIT_PRICE_PSM\nNETT_PRICE\nPROPERTY_TYPE\nNUMBER_OF_UNITS\nTENURE\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\nPOSTAL_CODE\nPOSTAL_DISTRICT\nPOSTAL_SECTOR\nPLANNING_REGION\nPLANNING_AREA\n\n\n\n\nTHE GAZANIA\n1528000\n678.13\n2253\n01 Apr 2023\n15 HOW SUN DRIVE #02-31\nNew Sale\nStrata\n63\n24254\n-\nCondominium\n1\nFreehold\n2022\nN.A\n538545\n19\n53\nNorth East Region\nSerangoon\n\n\nTHE GAZANIA\n1938000\n958.00\n2023\n01 Apr 2023\n7 HOW SUN DRIVE #01-12\nNew Sale\nStrata\n89\n21775\n-\nCondominium\n1\nFreehold\n2022\nPrivate\n538530\n19\n53\nNorth East Region\nSerangoon\n\n\nONE PEARL BANK\n2051000\n699.66\n2931\n01 Apr 2023\n1 PEARL BANK #32-16\nNew Sale\nStrata\n65\n31554\n-\nApartment\n1\n99 yrs from 01/03/2019\nUncompleted\nPrivate\n169016\n03\n16\nCentral Region\nOutram\n\n\nURBAN TREASURES\n1850700\n882.65\n2097\n01 Apr 2023\n205 JALAN EUNOS #05-05\nNew Sale\nStrata\n82\n22570\n-\nCondominium\n1\nFreehold\nUncompleted\nHDB\n419535\n14\n41\nEast Region\nBedok\n\n\nHYLL ON HOLLAND\n2021500\n699.66\n2889\n01 Apr 2023\n97 HOLLAND ROAD #10-25\nNew Sale\nStrata\n65\n31100\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n278541\n10\n27\nCentral Region\nBukit Timah\n\n\nLEEDON GREEN\n1838000\n785.77\n2339\n01 Apr 2023\n34 LEEDON HEIGHTS #12-40\nNew Sale\nStrata\n73\n25178\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n266076\n10\n26\nCentral Region\nBukit Timah\n\n\nKLIMT CAIRNHILL\n7320000\n2055.92\n3560\n01 Apr 2023\n71 CAIRNHILL ROAD #15-01\nNew Sale\nStrata\n191\n38325\n-\nApartment\n1\nFreehold\nUncompleted\nPrivate\n229725\n09\n22\nCentral Region\nNewton\n\n\n\n\n\nThere are 6,125 private residential property sales for 2023 Q2.\n\n\n\nrealis_2023q3 &lt;- read_csv('data/ResidentialTransaction20240308161009.csv') %&gt;%\n                  rename_with(rename_realis_column)\nkable(head(realis_2023q3, n=7))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPROJECT_NAME\nTRANSACTED_PRICE\nAREA_SQFT\nUNIT_PRICE_PSF\nSALE_DATE\nADDRESS\nTYPE_OF_SALE\nTYPE_OF_AREA\nAREA_SQM\nUNIT_PRICE_PSM\nNETT_PRICE\nPROPERTY_TYPE\nNUMBER_OF_UNITS\nTENURE\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\nPOSTAL_CODE\nPOSTAL_DISTRICT\nPOSTAL_SECTOR\nPLANNING_REGION\nPLANNING_AREA\n\n\n\n\nMYRA\n1658000\n667.37\n2484\n01 Jul 2023\n9 MEYAPPA CHETTIAR ROAD #02-07\nNew Sale\nStrata\n62\n26742\n-\nApartment\n1\nFreehold\nUncompleted\nN.A\n358456\n13\n35\nCentral Region\nToa Payoh\n\n\nNORTH GAIA\n1449000\n1076.40\n1346\n01 Jul 2023\n27 YISHUN CLOSE #10-06\nNew Sale\nStrata\n100\n14490\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n769342\n27\n76\nNorth Region\nYishun\n\n\nNORTH GAIA\n1365000\n1076.40\n1268\n01 Jul 2023\n27 YISHUN CLOSE #05-06\nNew Sale\nStrata\n100\n13650\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n769342\n27\n76\nNorth Region\nYishun\n\n\nNORTH GAIA\n1231000\n958.00\n1285\n01 Jul 2023\n35 YISHUN CLOSE #08-25\nNew Sale\nStrata\n89\n13831\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n769299\n27\n76\nNorth Region\nYishun\n\n\nNORTH GAIA\n1272000\n1001.05\n1271\n01 Jul 2023\n45 YISHUN CLOSE #09-45\nNew Sale\nStrata\n93\n13677\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n769294\n27\n76\nNorth Region\nYishun\n\n\nPICCADILLY GRAND\n3462000\n1679.18\n2062\n01 Jul 2023\n3 NORTHUMBERLAND ROAD #14-09\nNew Sale\nStrata\n156\n22192\n-\nApartment\n1\n99 yrs from 02/08/2021\nUncompleted\nPrivate\n219569\n08\n21\nCentral Region\nKallang\n\n\nTENET\n1356000\n925.70\n1465\n01 Jul 2023\n71 TAMPINES STREET 62 #14-02\nNew Sale\nStrata\n86\n15767\n-\nExecutive Condominium\n1\n99 yrs from 01/11/2021\nUncompleted\nHDB\n529699\n18\n52\nEast Region\nTampines\n\n\n\n\n\nThere are 6,206 private residential property sales for 2023 Q3.\n\n\n\nrealis_2023q4 &lt;- read_csv('data/ResidentialTransaction20240308161109.csv') %&gt;%\n                  rename_with(rename_realis_column)\nkable(head(realis_2023q4, n=7))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPROJECT_NAME\nTRANSACTED_PRICE\nAREA_SQFT\nUNIT_PRICE_PSF\nSALE_DATE\nADDRESS\nTYPE_OF_SALE\nTYPE_OF_AREA\nAREA_SQM\nUNIT_PRICE_PSM\nNETT_PRICE\nPROPERTY_TYPE\nNUMBER_OF_UNITS\nTENURE\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\nPOSTAL_CODE\nPOSTAL_DISTRICT\nPOSTAL_SECTOR\nPLANNING_REGION\nPLANNING_AREA\n\n\n\n\nLEEDON GREEN\n1749000\n538.20\n3250\n01 Oct 2023\n26 LEEDON HEIGHTS #11-08\nNew Sale\nStrata\n50\n34980\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n266221\n10\n26\nCentral Region\nBukit Timah\n\n\nLIV @ MB\n3148740\n1453.14\n2167\n01 Oct 2023\n114A ARTHUR ROAD #01-01\nNew Sale\nStrata\n135\n23324\n-\nCondominium\n1\n99 yrs from 23/11/2021\nUncompleted\nPrivate\n439826\n15\n43\nCentral Region\nMarine Parade\n\n\nMORI\n2422337\n1259.39\n1923\n01 Oct 2023\n223 GUILLEMARD ROAD #05-21\nNew Sale\nStrata\n117\n20704\n-\nApartment\n1\nFreehold\nUncompleted\nPrivate\n399738\n14\n39\nCentral Region\nGeylang\n\n\nTHE ARDEN\n1330000\n721.19\n1844\n01 Oct 2023\n6 PHOENIX ROAD #01-18\nNew Sale\nStrata\n67\n19851\n-\nApartment\n1\n99 yrs from 14/07/2023\nUncompleted\nPrivate\n668159\n23\n66\nWest Region\nBukit Batok\n\n\nLENTOR MODERN\n2237000\n1130.22\n1979\n01 Oct 2023\n3 LENTOR CENTRAL #05-03\nNew Sale\nStrata\n105\n21305\n-\nApartment\n1\n99 yrs from 26/10/2021\nUncompleted\nPrivate\n788888\n26\n78\nNorth East Region\nAng Mo Kio\n\n\nTHE LAKEGARDEN RESIDENCES\n1249900\n592.02\n2111\n01 Oct 2023\n82 YUAN CHING ROAD #04-14\nNew Sale\nStrata\n55\n22725\n-\nCondominium\n1\n99 yrs from 31/05/2023\nUncompleted\nHDB\n619614\n22\n61\nWest Region\nJurong East\n\n\nLENTOR HILLS RESIDENCES\n2890000\n1356.26\n2131\n01 Oct 2023\n31 LENTOR HILLS ROAD #15-03\nNew Sale\nStrata\n126\n22937\n-\nApartment\n1\n99 yrs from 25/04/2022\nUncompleted\nHDB\n788881\n26\n78\nNorth East Region\nAng Mo Kio\n\n\n\n\n\nThere are 4,851 private residential property sales for 2023 Q4.\n\n\n\nrealis_2024q1 &lt;- read_csv('data/ResidentialTransaction20240414220633.csv') %&gt;%\n                  rename_with(rename_realis_column)\nkable(head(realis_2024q1, n=7))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPROJECT_NAME\nTRANSACTED_PRICE\nAREA_SQFT\nUNIT_PRICE_PSF\nSALE_DATE\nADDRESS\nTYPE_OF_SALE\nTYPE_OF_AREA\nAREA_SQM\nUNIT_PRICE_PSM\nNETT_PRICE\nPROPERTY_TYPE\nNUMBER_OF_UNITS\nTENURE\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\nPOSTAL_CODE\nPOSTAL_DISTRICT\nPOSTAL_SECTOR\nPLANNING_REGION\nPLANNING_AREA\n\n\n\n\nTHE LANDMARK\n2726888\n1076.40\n2533\n01 Jan 2024\n173 CHIN SWEE ROAD #22-11\nNew Sale\nStrata\n100\n27269\n-\nCondominium\n1\n99 yrs from 28/08/2020\nUncompleted\nPrivate\n169878\n03\n16\nCentral Region\nOutram\n\n\nPOLLEN COLLECTION\n3850000\n1808.35\n2129\n01 Jan 2024\n34 POLLEN PLACE\nNew Sale\nLand\n168\n22917\n-\nTerrace House\n1\n99 yrs from 09/12/2019\nUncompleted\nN.A\n807233\n28\n80\nNorth East Region\nSerangoon\n\n\nSKY EDEN@BEDOK\n2346000\n1087.16\n2158\n01 Jan 2024\n1 BEDOK CENTRAL #09-10\nNew Sale\nStrata\n101\n23228\n-\nApartment\n1\n99 yrs from 05/01/2022\nUncompleted\nHDB\n469657\n16\n46\nEast Region\nBedok\n\n\nTERRA HILL\n2190000\n807.30\n2713\n01 Jan 2024\n18A YEW SIANG ROAD #03-12\nNew Sale\nStrata\n75\n29200\n-\nApartment\n1\nFreehold\nUncompleted\nN.A\n118992\n05\n11\nCentral Region\nQueenstown\n\n\nPINETREE HILL\n1954000\n796.54\n2453\n01 Jan 2024\n36 PINE GROVE #05-18\nNew Sale\nStrata\n74\n26405\n-\nCondominium\n1\n99 yrs from 12/09/2022\nUncompleted\nPrivate\n598444\n21\n59\nCentral Region\nBukit Timah\n\n\nTHE RESERVE RESIDENCES\n3412201\n1323.97\n2577\n01 Jan 2024\n13 JALAN ANAK BUKIT #28-106\nNew Sale\nStrata\n123\n27741\n-\nApartment\n1\n99 yrs from 29/11/2021\nUncompleted\nPrivate\n589605\n21\n58\nCentral Region\nBukit Timah\n\n\nSUMMER VILLAS\n2960000\n3530.59\n838\n02 Jan 2024\n73 GERALD DRIVE #01-06\nResale\nStrata\n328\n9024\n-\nTerrace House\n1\nFreehold\n2004\nPrivate\n797703\n28\n79\nNorth East Region\nHougang\n\n\n\n\n\nThere are 4,902 private residential property sales for 2024 Q1.\n\n\n\n\nglimpse(realis_2023q1)\n\nRows: 4,722\nColumns: 21\n$ PROJECT_NAME                &lt;chr&gt; \"THE REEF AT KING'S DOCK\", \"URBAN TREASURE…\n$ TRANSACTED_PRICE            &lt;dbl&gt; 2317000, 1823500, 1421112, 1258112, 128000…\n$ AREA_SQFT                   &lt;dbl&gt; 882.65, 882.65, 1076.40, 1033.34, 871.88, …\n$ UNIT_PRICE_PSF              &lt;dbl&gt; 2625, 2066, 1320, 1218, 1468, 1767, 1095, …\n$ SALE_DATE                   &lt;chr&gt; \"01 Jan 2023\", \"02 Jan 2023\", \"02 Jan 2023…\n$ ADDRESS                     &lt;chr&gt; \"12 HARBOURFRONT AVENUE #05-32\", \"205 JALA…\n$ TYPE_OF_SALE                &lt;chr&gt; \"New Sale\", \"New Sale\", \"New Sale\", \"New S…\n$ TYPE_OF_AREA                &lt;chr&gt; \"Strata\", \"Strata\", \"Strata\", \"Strata\", \"S…\n$ AREA_SQM                    &lt;dbl&gt; 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 420.…\n$ UNIT_PRICE_PSM              &lt;dbl&gt; 28256, 22238, 14211, 13105, 15802, 19015, …\n$ NETT_PRICE                  &lt;chr&gt; \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-…\n$ PROPERTY_TYPE               &lt;chr&gt; \"Condominium\", \"Condominium\", \"Executive C…\n$ NUMBER_OF_UNITS             &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ TENURE                      &lt;chr&gt; \"99 yrs from 12/01/2021\", \"Freehold\", \"99 …\n$ COMPLETION_DATE             &lt;chr&gt; \"Uncompleted\", \"Uncompleted\", \"Uncompleted…\n$ PURCHASER_ADDRESS_INDICATOR &lt;chr&gt; \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"Pr…\n$ POSTAL_CODE                 &lt;chr&gt; \"097996\", \"419535\", \"269343\", \"269294\", \"7…\n$ POSTAL_DISTRICT             &lt;chr&gt; \"04\", \"14\", \"27\", \"27\", \"28\", \"19\", \"10\", …\n$ POSTAL_SECTOR               &lt;chr&gt; \"09\", \"41\", \"26\", \"26\", \"79\", \"54\", \"27\", …\n$ PLANNING_REGION             &lt;chr&gt; \"Central Region\", \"East Region\", \"North Re…\n$ PLANNING_AREA               &lt;chr&gt; \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishun\"…\n\n\nThe imported dataset has 21 variables."
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#data-checkpoints",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#data-checkpoints",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "2.2 Data Checkpoints",
    "text": "2.2 Data Checkpoints\nAs the analysis is expected to have a lot of intermediate steps, Save, Load, and Data clear points are available to make our data wrangling more efficient.\n\n\n\n\n\n\nSave point\n\n\n\nThis is where data is written as rds files using write_rds() for important data sets that will be used in later analysis. Examples are:\n\nData we need to prepare for analysis\nCritical outputs of expensive calculations\nCleaned up data for lightweight processing\n\n\n\n\n\n\n\n\n\nLoad point\n\n\n\nThis is where data is loaded from rds files using read_rds(). They were previously generated by the save point.\nTIP: Skip to the load points to progress without running the code above it\n\n\n\n\n\n\n\n\nData clear point\n\n\n\nThis is where data that will not be used anymore are cleared. The data in RStudio environment will pile up and will make it more difficult to check the relevant data in each part.\nWe can set #| eval: false in code chunks if we want skip the clearing. For example, the code below won’t be run.\n\nmessage &lt;- \"This code chunk executed\"\n\n\n\nTo use these checkpoints, we need to create data/rds folder."
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#combining-the-dataframes",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#combining-the-dataframes",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "3.2 Combining the dataframes",
    "text": "3.2 Combining the dataframes\nNext, we will combine all 5 realis_202*q* dataframes into a single one to simplify aggregation and partitioning of data for analysis.\nThis will also simplify cleanup and transformation as they will be done on a single dataframe instead of 5.\nTo do this, we need to add QUARTER values to each dataframe before merging them to a single one. We will use the format &lt;YEAR&gt;Q&lt;QUARTER&gt;, i.e 2024Q1 for 2024 Q1. This is so we can identify which quarter the sale was made, which we will use for aggregation.\n\n\n\n\n\n\nFunctions used\n\n\n\n\nmutate() for adding new column\nrbind() for combining all dataframes\nseq_len() and nrow() for generating a sequence of IDs\nsprintf() for formatting a string.\n\n\n\n\nAdding QUARTER columnCombining data framesAdding transaction ID’s (TXN_ID)Verifying the result\n\n\n\nrealis_2023q1 &lt;- mutate(realis_2023q1, QUARTER=\"2023Q1\")\nrealis_2023q2 &lt;- mutate(realis_2023q2, QUARTER=\"2023Q2\")\nrealis_2023q3 &lt;- mutate(realis_2023q3, QUARTER=\"2023Q3\")\nrealis_2023q4 &lt;- mutate(realis_2023q4, QUARTER=\"2023Q4\")\nrealis_2024q1 &lt;- mutate(realis_2024q1, QUARTER=\"2024Q1\")\n\n\n\n\nrealis &lt;- realis_2023q1 %&gt;%\n  rbind(realis_2023q2) %&gt;%\n  rbind(realis_2023q3) %&gt;%\n  rbind(realis_2023q4) %&gt;%\n  rbind(realis_2024q1)\nkable(head(realis, n=10))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPROJECT_NAME\nTRANSACTED_PRICE\nAREA_SQFT\nUNIT_PRICE_PSF\nSALE_DATE\nADDRESS\nTYPE_OF_SALE\nTYPE_OF_AREA\nAREA_SQM\nUNIT_PRICE_PSM\nNETT_PRICE\nPROPERTY_TYPE\nNUMBER_OF_UNITS\nTENURE\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\nPOSTAL_CODE\nPOSTAL_DISTRICT\nPOSTAL_SECTOR\nPLANNING_REGION\nPLANNING_AREA\nQUARTER\n\n\n\n\nTHE REEF AT KING’S DOCK\n2317000\n882.65\n2625\n01 Jan 2023\n12 HARBOURFRONT AVENUE #05-32\nNew Sale\nStrata\n82.0\n28256\n-\nCondominium\n1\n99 yrs from 12/01/2021\nUncompleted\nHDB\n097996\n04\n09\nCentral Region\nBukit Merah\n2023Q1\n\n\nURBAN TREASURES\n1823500\n882.65\n2066\n02 Jan 2023\n205 JALAN EUNOS #08-02\nNew Sale\nStrata\n82.0\n22238\n-\nCondominium\n1\nFreehold\nUncompleted\nPrivate\n419535\n14\n41\nEast Region\nBedok\n2023Q1\n\n\nNORTH GAIA\n1421112\n1076.40\n1320\n02 Jan 2023\n29 YISHUN CLOSE #08-10\nNew Sale\nStrata\n100.0\n14211\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n269343\n27\n26\nNorth Region\nYishun\n2023Q1\n\n\nNORTH GAIA\n1258112\n1033.34\n1218\n02 Jan 2023\n45 YISHUN CLOSE #07-42\nNew Sale\nStrata\n96.0\n13105\n-\nExecutive Condominium\n1\n99 yrs from 15/02/2021\nUncompleted\nHDB\n269294\n27\n26\nNorth Region\nYishun\n2023Q1\n\n\nPARC BOTANNIA\n1280000\n871.88\n1468\n03 Jan 2023\n12 FERNVALE STREET #06-16\nResale\nStrata\n81.0\n15802\n-\nCondominium\n1\n99 yrs from 28/12/2016\n2022\nHDB\n797391\n28\n79\nNorth East Region\nSengkang\n2023Q1\n\n\nNANYANG PARK\n5870000\n3322.85\n1767\n03 Jan 2023\n72 JALAN LIMBOK\nResale\nLand\n308.7\n19015\n-\nTerrace House\n1\n999 yrs from 14/02/1881\n-\nPrivate\n548742\n19\n54\nNorth East Region\nHougang\n2023Q1\n\n\nPALMS @ SIXTH AVENUE\n4950000\n4520.88\n1095\n03 Jan 2023\n231 SIXTH AVENUE\nResale\nStrata\n420.0\n11786\n-\nSemi-Detached House\n1\nFreehold\n2015\nPrivate\n275780\n10\n27\nCentral Region\nBukit Timah\n2023Q1\n\n\nN.A.\n3260000\n1555.40\n2096\n03 Jan 2023\n19 TENG TONG ROAD\nResale\nLand\n144.5\n22561\n-\nTerrace House\n1\nFreehold\n1941\nPrivate\n423510\n15\n42\nCentral Region\nMarine Parade\n2023Q1\n\n\nWHISTLER GRAND\n850000\n441.32\n1926\n03 Jan 2023\n107 WEST COAST VALE #30-04\nSub Sale\nStrata\n41.0\n20732\n-\nApartment\n1\n99 yrs from 07/05/2018\n2022\nHDB\n126751\n05\n12\nWest Region\nClementi\n2023Q1\n\n\nNORTHOAKS\n1268000\n1603.84\n791\n03 Jan 2023\n30 WOODLANDS CRESCENT #01-11\nResale\nStrata\n149.0\n8510\n-\nExecutive Condominium\n1\n99 yrs from 16/12/1997\n2000\nHDB\n738086\n25\n73\nNorth Region\nWoodlands\n2023Q1\n\n\n\n\n\n\n\nWe will also add TXN_ID so we can more easily refer to the observations later on. The format is TXN00000.\n\nrealis$TXN_ID &lt;- sprintf(\"TXN%05d\", seq_len(nrow(realis)))\n\n\n\nLet us check if all rows are accounted for by checking if the number of rows in realis is the total number of rows from all dataframes.\n\nnrow(realis) == nrow(realis_2023q1) +\n  nrow(realis_2023q2) +\n  nrow(realis_2023q3) +\n  nrow(realis_2023q4) +\n  nrow(realis_2024q1)\n\n[1] TRUE"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#filtering-relevant-columns",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#filtering-relevant-columns",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "3.3 Filtering relevant columns",
    "text": "3.3 Filtering relevant columns\nAfter adding the QUARTER and TXN_ID columns, there are now 23 variables in the dataframe. However, not all of them are relevant to answer the questions we are asking. The table below summarizes the columns and whether we will keep them or not.\n\nColumn DetailsFilter code\n\n\n\n\n\nColumn Name\nDescription\nAction\nReason\n\n\n\n\nPROJECT_NAME\nName of the project\nDROP\nToo specific for aggregation\n\n\nTRANSACTED_PRICE\nTransaction price (SGD)\nKEEP\nCore data for analysis\n\n\nAREA_SQFT\nArea of the property in sqft\nKEEP\nCan be useful partitioning data\n\n\nUNIT_PRICE_PSF\nPrice per sqft\nKEEP\nCan be useful for price analysis\n\n\nSALE_DATE\nDate when the sale was made\nDROP\nWe will aggregate by quarter, no need to know the specific dates.\n\n\nADDRESS\nProperty Address\nDROP\nToo specific for aggregation\n\n\nTYPE_OF_SALE\nOne of New Sale, Resale, Subsale\nKEEP\nImportant submarket information\n\n\nTYPE_OF_AREA\nOne of Landed, Strata\nKEEP\nCan be used to partition data\n\n\nAREA_SQM\nPrice per sqm\nDROP\nAREA_SFT is adequate\n\n\nUNIT_PRICE_PSM\nPrice per sqm\nDROP\nUNIT_PRICE_PSF is adequate\n\n\nNETT_PRICE\n\nDROP\nColumn is blank\n\n\nPROPERTY_TYPE\nType of Property, e.g. Apartment, Condominium, Executive Condominium, Terrace House, Semi-Detached House, Detached House\nKEEP\nCan be used to partition data\n\n\nNUMBER_OF_UNITS\nNumber of units involved in the transaction\nKEEP\nCore data for analysis\n\n\nTENURE\nCan be Freehold or Leasehold\nKEEP\nCan be used to partition data\n\n\nCOMPLETION_DATE\nWhen the property was completed. Some properties are Uncompleted as they will be turned over for the future\nKEEP\nCan be used to partition data\n\n\nPURCHASER_ADDRESS_INDICATOR\nType of residence of the purchaser\nKEEP\nCan be used to partition data\n\n\nPOSTAL_CODE\nPostal code of the property\nDROP\nToo specific for aggregation\n\n\nPOSTAL_DISTRICT\nDistrict where the property is located\nKEEP\nCan be used to partition data\n\n\nPOSTAL_SECTOR\nSector where the property is located\nDROP\nIrrelevant\n\n\nPLANNING_REGION\nRegion where the property is located\nKEEP\nCan be used to partition data\n\n\nPLANNING_AREA\nArea where the property is located\nKEEP\nCan be used to partition data\n\n\nQUARTER\nQuarter where the property was sold\nKEEP\nCore data for aggregation\n\n\nTXN_ID\nIdentifier for the transaction\nKEEP\nIt is an identifier\n\n\n\n\n\nWe will now use select() to keep only the relevant columns. We will define the function below for filtering the relevant columns. This will also rearrange the columns based on the order in the function call.\n\nrealis &lt;-\n  realis %&gt;% select(\n    c(\n      TXN_ID,\n      PROJECT_NAME,\n      QUARTER,\n      NUMBER_OF_UNITS,\n      TRANSACTED_PRICE,\n      AREA_SQFT,\n      TYPE_OF_SALE,\n      PROPERTY_TYPE,\n      TYPE_OF_AREA,\n      POSTAL_DISTRICT,\n      PLANNING_REGION,\n      PLANNING_AREA,\n      TENURE,\n      UNIT_PRICE_PSF,\n      COMPLETION_DATE,\n      PURCHASER_ADDRESS_INDICATOR\n    )\n  )\n\n\n\n\nAfter this initial cleanup, we are left with 15 variables relevant to our exploration.\n\n\n\n\n\n\nSave point\n\n\n\n\n\nLet us save realis so we do not need to rerun the steps above.\n\nwrite_rds(realis, \"data/rds/realis_after_clean.rds\")\n\n\n\n\n\n\n\n\n\n\nData clear point\n\n\n\n\n\nWe do not need the realis_202*q* dataframes anymore so we can remove them from the RStudio environment.\n\nrm(realis_2023q1)\nrm(realis_2023q2)\nrm(realis_2023q3)\nrm(realis_2023q4)\nrm(realis_2024q1)"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#simplifying-number_of_units",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#simplifying-number_of_units",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "3.4 Simplifying NUMBER_OF_UNITS",
    "text": "3.4 Simplifying NUMBER_OF_UNITS\n\n\n\n\n\n\nLoad point\n\n\n\n\n\nWe can continue running the document from this point by loading the following prepared data.\n\nrealis &lt;- read_rds(\"data/rds/realis_after_clean.rds\")\n\n\n\n\nTaking a closer look at NUMBER_OF_UNITS columns, we can see that 12 out of 26,806 transactions involve multiple units.\n\nrealis[order(-realis$NUMBER_OF_UNITS),] %&gt;% filter(NUMBER_OF_UNITS &gt; 1) %&gt;% kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQUARTER\nNUMBER_OF_UNITS\nTRANSACTED_PRICE\nAREA_SQFT\nTYPE_OF_SALE\nPROPERTY_TYPE\nTYPE_OF_AREA\nPOSTAL_DISTRICT\nPLANNING_REGION\nPLANNING_AREA\nTENURE\nUNIT_PRICE_PSF\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\n\n\n\n\n2023-1\n60\n392180000\n144883.44\nResale\nCondominium\nStrata\n15\nCentral Region\nMarine Parade\nFreehold\n2707\n1985\nPrivate\n\n\n2023-1\n43\n115280000\n68491.33\nResale\nCondominium\nStrata\n16\nEast Region\nBedok\nFreehold\n1683\n1991\nPrivate\n\n\n2023-2\n11\n66800000\n25177.00\nResale\nTerrace House\nStrata\n11\nCentral Region\nNovena\nFreehold\n2653\n1984\nPrivate\n\n\n2023-4\n7\n18000000\n6964.31\nResale\nApartment\nStrata\n11\nCentral Region\nNovena\nFreehold\n2585\n-\nPrivate\n\n\n2023-1\n4\n6280000\n5489.64\nResale\nApartment\nStrata\n19\nNorth East Region\nSerangoon\nFreehold\n1144\n1976\nPrivate\n\n\n2023-2\n4\n10600000\n6746.88\nResale\nApartment\nStrata\n15\nEast Region\nBedok\nFreehold\n1571\n1985\nPrivate\n\n\n2023-1\n3\n61080008\n32148.84\nResale\nDetached House\nLand\n11\nCentral Region\nNovena\nFreehold\n1900\n-\nPrivate\n\n\n2023-2\n2\n32200000\n14123.44\nResale\nDetached House\nLand\n11\nCentral Region\nNovena\nFreehold\n2280\n1997\nPrivate\n\n\n2023-2\n2\n6150000\n4342.20\nResale\nSemi-Detached House\nLand\n19\nNorth East Region\nSerangoon\nFreehold\n1416\n-\nPrivate\n\n\n2023-3\n2\n6100000\n8337.79\nResale\nSemi-Detached House\nLand\n16\nEast Region\nTampines\nFreehold\n732\n-\nPrivate\n\n\n2023-3\n2\n8000000\n3658.68\nResale\nSemi-Detached House\nLand\n14\nCentral Region\nGeylang\nFreehold\n2187\n-\nPrivate\n\n\n2024-1\n2\n7000000\n4208.72\nResale\nApartment\nStrata\n09\nCentral Region\nOrchard\nFreehold\n1663\n1983\nPrivate\n\n\n\n\n\nFurthermore, the TRANSACTED_PRICE for"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#closer-look-at-number_of_units",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#closer-look-at-number_of_units",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "3.4 Closer look at NUMBER_OF_UNITS",
    "text": "3.4 Closer look at NUMBER_OF_UNITS\n\n\n\n\n\n\nLoad point\n\n\n\n\n\nWe can continue running the document from this point by loading the following prepared data.\n\nrealis &lt;- read_rds(\"data/rds/realis_after_clean.rds\")\n\n\n\n\nTaking a closer look at NUMBER_OF_UNITS columns reveals that 12 out of 26,806 transactions involve multiple units.\n\nrealis[order(-realis$NUMBER_OF_UNITS),] %&gt;% filter(NUMBER_OF_UNITS &gt; 1) %&gt;% kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTXN_ID\nPROJECT_NAME\nQUARTER\nNUMBER_OF_UNITS\nTRANSACTED_PRICE\nAREA_SQFT\nTYPE_OF_SALE\nPROPERTY_TYPE\nTYPE_OF_AREA\nPOSTAL_DISTRICT\nPLANNING_REGION\nPLANNING_AREA\nTENURE\nUNIT_PRICE_PSF\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\n\n\n\n\nTXN01567\nMEYER PARK\n2023Q1\n60\n392180000\n144883.44\nResale\nCondominium\nStrata\n15\nCentral Region\nMarine Parade\nFreehold\n2707\n1985\nPrivate\n\n\nTXN00083\nBAGNALL COURT\n2023Q1\n43\n115280000\n68491.33\nResale\nCondominium\nStrata\n16\nEast Region\nBedok\nFreehold\n1683\n1991\nPrivate\n\n\nTXN08370\nKEW LODGE\n2023Q2\n11\n66800000\n25177.00\nResale\nTerrace House\nStrata\n11\nCentral Region\nNovena\nFreehold\n2653\n1984\nPrivate\n\n\nTXN17572\nKARTAR APARTMENTS\n2023Q4\n7\n18000000\n6964.31\nResale\nApartment\nStrata\n11\nCentral Region\nNovena\nFreehold\n2585\n-\nPrivate\n\n\nTXN00861\nMONDO MANSION BUILDING\n2023Q1\n4\n6280000\n5489.64\nResale\nApartment\nStrata\n19\nNorth East Region\nSerangoon\nFreehold\n1144\n1976\nPrivate\n\n\nTXN10593\nN.A.\n2023Q2\n4\n10600000\n6746.88\nResale\nApartment\nStrata\n15\nEast Region\nBedok\nFreehold\n1571\n1985\nPrivate\n\n\nTXN04100\nN.A.\n2023Q1\n3\n61080008\n32148.84\nResale\nDetached House\nLand\n11\nCentral Region\nNovena\nFreehold\n1900\n-\nPrivate\n\n\nTXN06865\nN.A.\n2023Q2\n2\n32200000\n14123.44\nResale\nDetached House\nLand\n11\nCentral Region\nNovena\nFreehold\n2280\n1997\nPrivate\n\n\nTXN10316\nN.A.\n2023Q2\n2\n6150000\n4342.20\nResale\nSemi-Detached House\nLand\n19\nNorth East Region\nSerangoon\nFreehold\n1416\n-\nPrivate\n\n\nTXN12792\nEAST VIEW GARDEN\n2023Q3\n2\n6100000\n8337.79\nResale\nSemi-Detached House\nLand\n16\nEast Region\nTampines\nFreehold\n732\n-\nPrivate\n\n\nTXN13376\nN.A.\n2023Q3\n2\n8000000\n3658.68\nResale\nSemi-Detached House\nLand\n14\nCentral Region\nGeylang\nFreehold\n2187\n-\nPrivate\n\n\nTXN24770\nCLAYMORE PLAZA\n2024Q1\n2\n7000000\n4208.72\nResale\nApartment\nStrata\n09\nCentral Region\nOrchard\nFreehold\n1663\n1983\nPrivate\n\n\n\n\n\nFurthermore, the TRANSACTED_PRICE for such transactions are hundred million dollar transactions, which can skew the data if we are looking at TRANSACTED_PRICE with the assumption that it is the price per unit.\nFor example TXN01567, is worth $392,180,000, which is much higher that the price of individual units"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#handling-the-bulk-transactions",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#handling-the-bulk-transactions",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "3.5 Handling the bulk transactions",
    "text": "3.5 Handling the bulk transactions\nTo address the 12 bulk transactions in our dataframe, we have 2 possible options:\n\nOption 1: Remove these transactions as these correspond to 0.045% of transactions (EASY)\nOption 2: Create rows for each unit in the transaction (HARD)\n\nAlthough Option 2 is more difficult, it is the better approach as all the transactions are Resale transactions. Simply removing them may remove very important data for the resale submarket.\nFor this solution, we need to do the following:\n\nRepeat all rows by NUMBER_OF_UNITS times.\nSet transacted price to the average price: \\(\\frac{TRANSACTED\\_PRICE}{NUMBER\\_OF\\_UNITS}\\).\nSet the area (sqft) to the average area: \\(\\frac{AREA\\_SQFT}{NUMBER\\_OF\\_UNITS}\\).\nSet NUMBER_OF_UNITS to 1.\n\n\nRepeating rowsSetting column values\n\n\nReference: Stackoverflow\n\n\n\n\n\n\nFunctions used\n\n\n\nrep() - to repeat a dataframe\nseq_len(nrow()) - to iterate to each row of the dataframe\n\n\n\nrealis_per_unit &lt;- realis[rep(seq_len(nrow(realis)), realis$NUMBER_OF_UNITS),]\n\nLets’ check if the number of rows correspond to the total number of units sold.\n\nnrow(realis_per_unit) == sum(realis$NUMBER_OF_UNITS)\n\n[1] TRUE\n\n\n\n\nWe will perform the changes to NUMBER_OF_UNITS, TRANSACTED_PRICE, AREA_SQFT in 1 code chunk so that rerunning the code chunk is idempotent and won’t mutate the variable further\n\nrealis_per_unit &lt;- realis_per_unit %&gt;%\n  filter(NUMBER_OF_UNITS &gt; 1) %&gt;%\n  mutate(TRANSACTED_PRICE = round(TRANSACTED_PRICE / NUMBER_OF_UNITS, 0)) %&gt;%\n  mutate(AREA_SQFT = round(AREA_SQFT / NUMBER_OF_UNITS, 0)) %&gt;%\n  mutate(NUMBER_OF_UNITS = 1) %&gt;%\n  rbind(realis_per_unit %&gt;% # Reconnect to the rest of the dataframe\n              filter(NUMBER_OF_UNITS == 1))\n\n\n\n\nLet us verify the result of the transformation.\n\nBeforeAfter\n\n\n\nrealis %&gt;%\n  filter(TXN_ID %in% c(\n    \"TXN00001\", \"TXN00002\", # Single-unit transactions\n    \"TXN10593\", \"TXN13376\" # Bulk transactions\n    )) %&gt;% kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTXN_ID\nPROJECT_NAME\nQUARTER\nNUMBER_OF_UNITS\nTRANSACTED_PRICE\nAREA_SQFT\nTYPE_OF_SALE\nPROPERTY_TYPE\nTYPE_OF_AREA\nPOSTAL_DISTRICT\nPLANNING_REGION\nPLANNING_AREA\nTENURE\nUNIT_PRICE_PSF\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\n\n\n\n\nTXN00001\nTHE REEF AT KING’S DOCK\n2023Q1\n1\n2317000\n882.65\nNew Sale\nCondominium\nStrata\n04\nCentral Region\nBukit Merah\n99 yrs from 12/01/2021\n2625\nUncompleted\nHDB\n\n\nTXN00002\nURBAN TREASURES\n2023Q1\n1\n1823500\n882.65\nNew Sale\nCondominium\nStrata\n14\nEast Region\nBedok\nFreehold\n2066\nUncompleted\nPrivate\n\n\nTXN10593\nN.A.\n2023Q2\n4\n10600000\n6746.88\nResale\nApartment\nStrata\n15\nEast Region\nBedok\nFreehold\n1571\n1985\nPrivate\n\n\nTXN13376\nN.A.\n2023Q3\n2\n8000000\n3658.68\nResale\nSemi-Detached House\nLand\n14\nCentral Region\nGeylang\nFreehold\n2187\n-\nPrivate\n\n\n\n\n\n\n\n\nrealis_per_unit %&gt;%\n  filter(TXN_ID %in% c(\n    \"TXN00001\", \"TXN00002\", # Single-unit transactions\n    \"TXN10593\", \"TXN13376\" # Bulk transactions\n    )) %&gt;% kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTXN_ID\nPROJECT_NAME\nQUARTER\nNUMBER_OF_UNITS\nTRANSACTED_PRICE\nAREA_SQFT\nTYPE_OF_SALE\nPROPERTY_TYPE\nTYPE_OF_AREA\nPOSTAL_DISTRICT\nPLANNING_REGION\nPLANNING_AREA\nTENURE\nUNIT_PRICE_PSF\nCOMPLETION_DATE\nPURCHASER_ADDRESS_INDICATOR\n\n\n\n\nTXN10593\nN.A.\n2023Q2\n1\n2650000\n1687.00\nResale\nApartment\nStrata\n15\nEast Region\nBedok\nFreehold\n1571\n1985\nPrivate\n\n\nTXN10593\nN.A.\n2023Q2\n1\n2650000\n1687.00\nResale\nApartment\nStrata\n15\nEast Region\nBedok\nFreehold\n1571\n1985\nPrivate\n\n\nTXN10593\nN.A.\n2023Q2\n1\n2650000\n1687.00\nResale\nApartment\nStrata\n15\nEast Region\nBedok\nFreehold\n1571\n1985\nPrivate\n\n\nTXN10593\nN.A.\n2023Q2\n1\n2650000\n1687.00\nResale\nApartment\nStrata\n15\nEast Region\nBedok\nFreehold\n1571\n1985\nPrivate\n\n\nTXN13376\nN.A.\n2023Q3\n1\n4000000\n1829.00\nResale\nSemi-Detached House\nLand\n14\nCentral Region\nGeylang\nFreehold\n2187\n-\nPrivate\n\n\nTXN13376\nN.A.\n2023Q3\n1\n4000000\n1829.00\nResale\nSemi-Detached House\nLand\n14\nCentral Region\nGeylang\nFreehold\n2187\n-\nPrivate\n\n\nTXN00001\nTHE REEF AT KING’S DOCK\n2023Q1\n1\n2317000\n882.65\nNew Sale\nCondominium\nStrata\n04\nCentral Region\nBukit Merah\n99 yrs from 12/01/2021\n2625\nUncompleted\nHDB\n\n\nTXN00002\nURBAN TREASURES\n2023Q1\n1\n1823500\n882.65\nNew Sale\nCondominium\nStrata\n14\nEast Region\nBedok\nFreehold\n2066\nUncompleted\nPrivate\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSave point\n\n\n\n\n\nLet us save realis_per_unit so we do not need to rerun the steps above.\n\nwrite_rds(realis_per_unit, \"data/rds/realis_per_unit.rds\")"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#trends-by-quarter",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#trends-by-quarter",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "4.1 Trends by Quarter",
    "text": "4.1 Trends by Quarter\n\nggplot(data = realis_per_unit,\n       aes(y = TRANSACTED_PRICE/1000, x = QUARTER)) +\n  labs(x=\"Quarter\", y=\"Transacted Price (,000)\") +\n  geom_violin() +\n  #geom_boxplot(outlier.shape = NA) +\n  stat_summary(fun = mean, geom = \"line\", aes(group = 1, color = \"Mean\")) +\n  stat_summary(fun = median, geom = \"line\", aes(group = 1, color = \"Median\")) +\n  stat_summary(fun = min, geom = \"line\", aes(group = 1, color = \"Min\")) +\n  stat_summary(fun = max, geom = \"line\", aes(group = 1, color = \"Max\")) +\n  stat_summary(fun = mean, geom = \"point\", aes(color = \"Mean\")) +\n  stat_summary(fun = median, geom = \"point\", aes(color = \"Median\")) +\n  stat_summary(fun = min, geom = \"point\", aes(color = \"Min\")) +\n  stat_summary(fun = max, geom = \"point\", aes(color = \"Max\")) +\n  stat_summary(fun = mean, geom = \"text\", aes(label = round(after_stat(y), 0), vjust = -0.5, color = \"Mean\"), size = 3, show.legend = FALSE) +\n  stat_summary(fun = median, geom = \"text\", aes(label = round(after_stat(y), 0), vjust = 1.5, color = \"Median\"), size = 3, show.legend = FALSE) +\n  stat_summary(fun = min, geom = \"text\", aes(label = round(after_stat(y), 0), vjust = 1.5, color = \"Min\"), size = 3, show.legend = FALSE) +\n  stat_summary(fun = max, geom = \"text\", aes(label = round(after_stat(y), 0), vjust = -0.5, color = \"Max\"), size = 3, show.legend = FALSE) +\n  scale_color_manual(name = \"Statistics\", values = c(\"Mean\" = \"green\", \"Median\" = \"violet\", \"Min\" = \"orange\", \"Max\"= \"blue\")) +\n  scale_y_log10() +\n  theme_ipsum_rc()\n\n\n\n\n\nplot_quarter_sales &lt;- function(quarter, yaxis_text) {\n  subset = filter(realis_per_unit, QUARTER==quarter)\n  overall_mean = mean(subset$TRANSACTED_PRICE)/1000\n  \nggplot(subset, aes(x=TYPE_OF_SALE, y=TRANSACTED_PRICE/1000)) +\n  labs(x=NULL, y=quarter) +\n  scale_y_log10() +\n  coord_flip() +\n  geom_violin(aes(fill=TYPE_OF_SALE, color = TYPE_OF_SALE),\n              alpha = 0.5,\n              show.legend = FALSE) +\n  stat_summary(color=\"blue\",\n               fun = \"median\", \n               geom = \"point\", \n               size = 1, \n               alpha = 0.8)  +\n  geom_hline(aes(yintercept = overall_mean), \n             linewidth=0.6,\n             linetype=\"dashed\",\n             color = \"blue\") +\n  annotate(\n      \"text\", \n      x = 3.4, \n      y = 4000,\n      label = paste(\"Mean =\\n\", round(overall_mean, 0)),\n      color = \"blue\",\n      size = 3\n    ) +\n  scale_fill_manual(values = c(\"lightgreen\", \"orange\", \"lightblue\")) +\n  scale_color_manual(values = c(\"lightgreen\", \"orange\", \"lightblue\")) +\n  theme_minimal() +\n  theme(  \n          axis.text.x = element_text(size = rel(0.5)),\n          axis.line.x=element_line(),\n          axis.text.y = yaxis_text,\n          axis.ticks.y = element_blank(),\n          panel.grid = element_blank(),\n        ) \n}\n\nprice_2023q1 &lt;- plot_quarter_sales(\"2023Q1\", element_text(size = rel(0.9)))\nprice_2023q2 &lt;- plot_quarter_sales(\"2023Q2\", element_blank())\nprice_2023q3 &lt;- plot_quarter_sales(\"2023Q3\", element_blank())\nprice_2023q4 &lt;- plot_quarter_sales(\"2023Q4\", element_blank())\nprice_2024q1 &lt;- plot_quarter_sales(\"2024Q1\", element_blank())\n\n#(price_2023q1 | price_2023q2 | price_2023q3 | price_2023q4 | price_2024q1)\n(price_2023q1 | price_2024q1)\n\n\n\n\nCredit to https://akalestale.netlify.app/take-home_ex/take-home_ex01/take-home_ex01 for stat_halfeye usage\n\nq1 &lt;- realis_per_unit %&gt;% filter(QUARTER %in% c(\"2023Q1\", \"2024Q1\"))\n\nplot_by_sale_type &lt;-\n  function(type,\n           ylabel = NULL,\n           yaxis_text = element_blank()) {\n    subset = q1 %&gt;% filter(TYPE_OF_SALE == type)\n    median2023 = (subset %&gt;% filter(QUARTER == \"2023Q1\"))$TRANSACTED_PRICE %&gt;% median()\n    median2024 = (subset %&gt;% filter(QUARTER == \"2024Q1\"))$TRANSACTED_PRICE %&gt;% median()\n    percent_diff = (100*(median2024 - median2023) / median2023) %&gt;% round(1)\n    diff_color = ifelse(percent_diff &lt; 0, \"red\", \"green\")\n    diff_label = ifelse(percent_diff &lt; 0, paste(\"-\", abs(percent_diff), \"%\"), paste(\"+\", percent_diff, \"%\"))\n    \n    ggplot(subset,\n           aes(x = QUARTER,\n               y = TRANSACTED_PRICE / 1000,\n               fill = QUARTER)) +\n      stat_halfeye(\n        aes(\n          fill = QUARTER,\n          justification = ifelse(QUARTER == \"2023Q1\", 1.2, 0),\n          side = ifelse(QUARTER == \"2023Q1\", \"left\", \"right\")\n        ),\n        position = position_nudge(x = 0.1, y = 0),\n        .width = 0,\n        alpha = .8,\n        point_colour = NA\n      ) +\n      stat_summary(\n        fun = median,\n        geom = \"line\",\n        aes(\n          group = 1\n        ),\n        colour = diff_color,\n        linetype = \"dotted\",\n        show.legend = FALSE\n      ) +\n      annotate(\n      \"text\", \n      x = 1.5, \n      y = 2500,\n      label = diff_label,\n      color = diff_color,\n      size = 3.5,\n      fontface = \"bold\"\n    ) +\n      geom_boxplot(\n        aes(x = QUARTER,\n            y = TRANSACTED_PRICE / 1000,\n            fill = QUARTER),\n        outlier.shape = NA,\n        alpha = .5,\n        width = .1,\n        colour = \"black\"\n      ) +\n      guides(fill = FALSE) +\n      scale_y_log10(limits = c(500, 60000)) +\n      labs(x = type, y = ylabel) +\n      theme_hc()+\n      #theme_pander()+\n      #theme_economist_white() +\n      theme(\n        axis.text.x = element_text(size = rel(0.8)),\n        axis.line.x = element_line(),\n        axis.text.y = yaxis_text,\n        axis.ticks.y = element_blank()\n      )\n  }\n\nq1_all_sales &lt;- plot_by_sale_type(\"All Sales\")\nq1_new_sale &lt;-\n  plot_by_sale_type(\"New Sale\", ylabel = \"Transaction Price (,000 SGD)\", element_text(size = rel(0.9)))\nq1_resale &lt;- plot_by_sale_type(\"Resale\")\nq1_sub_sale &lt;- plot_by_sale_type(\"Sub Sale\")\n\nq1_all_sales | q1_new_sale | q1_resale | q1_sub_sale"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#comparing-2023q1-and-2024q2-prices",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#comparing-2023q1-and-2024q2-prices",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "4.1 Comparing 2023Q1 and 2024Q2 prices",
    "text": "4.1 Comparing 2023Q1 and 2024Q2 prices\nCredit to https://akalestale.netlify.app/take-home_ex/take-home_ex01/take-home_ex01 for stat_halfeye usage\n\n\nShow ggplot2 code\nq1 &lt;- realis_per_unit %&gt;% filter(QUARTER %in% c(\"2023Q1\", \"2024Q1\"))\n\nget_sale_subset &lt;- function(type) {\n  if (type == \"All Sales\") {\n    return(q1)\n  }\n  q1 %&gt;% filter(TYPE_OF_SALE == type)\n}\n\ncalc_median_diff &lt;- function(data) {\n  median2023 = (data %&gt;% filter(QUARTER == \"2023Q1\"))$TRANSACTED_PRICE %&gt;% median()\n  median2024 = (data %&gt;% filter(QUARTER == \"2024Q1\"))$TRANSACTED_PRICE %&gt;% median()\n  (100 * (median2024 - median2023) / median2023) %&gt;% round(1)\n}\n\nplot_by_sale_type &lt;-\n  function(type,\n           bg = element_blank(),\n           ylabel = NULL,\n           yaxis_text = element_blank()) {\n    subset = get_sale_subset(type)\n    percent_diff = calc_median_diff(subset)\n    diff_color = ifelse(percent_diff &lt; 0, \"brown\",\"darkgreen\")\n    \n    ggplot(subset, aes(x = QUARTER, y = TRANSACTED_PRICE / 1000, fill = QUARTER)) +\n      # Generate half violin + boxplot\n      stat_halfeye(\n        aes(\n          fill = QUARTER,\n          justification = ifelse(QUARTER == \"2023Q1\", 1.2, 0),\n          side = ifelse(QUARTER == \"2023Q1\", \"left\", \"right\")\n        ),\n        position = position_nudge(x = 0.1, y = 0),\n        .width = 0,\n        alpha = .8,\n        point_colour = NA\n      ) +\n      scale_fill_manual(values=c(\"darkgrey\", \"blue\"))+\n      \n      # Visualize diff\n      stat_summary(\n        fun = median,\n        geom = \"line\",\n        aes(group = 1),\n        colour = diff_color,\n        linetype = \"dotted\",\n        show.legend = FALSE\n      ) +\n      annotate(\n        \"text\",\n        x = 1.5,\n        y = 11000,\n        label = paste(abs(percent_diff), \"%\"),\n        color = diff_color,\n        size = 4,\n        fontface = \"bold\"\n      ) +\n      annotate(\n        \"text\",\n        x = 1.5,\n        y = ifelse(percent_diff &lt; 0, 7000, 17000),\n        label = ifelse(percent_diff &lt; 0, \"↓\", \"↑\"),\n        color = diff_color,\n        size = 7,\n        fontface = \"bold\"\n      ) +\n      \n      geom_boxplot(\n        aes(x = QUARTER, y = TRANSACTED_PRICE / 1000, fill = QUARTER),\n        outlier.shape = NA,\n        alpha = .5,\n        width = .1,\n        colour = \"black\"\n      ) +\n      guides(fill = FALSE) +\n      scale_y_log10(limits = c(500, 60000)) +\n      labs(x = type, y = ylabel) +\n      theme_minimal() +\n      theme(\n        text = element_text(family = \"Roboto Condensed\"),\n        axis.line.x = element_line(),\n        axis.text.y = yaxis_text,\n        axis.ticks.y = element_blank(),\n        panel.background = bg\n      )\n  }\n\nq1_all_sales &lt;-\n  plot_by_sale_type(\n    \"All Sales\",\n    bg = element_rect(fill = \"aliceblue\", linewidth=0),\n    ylabel = \"Transaction Price (,000 SGD)\",\n    yaxis_text = element_text())\nq1_new_sale &lt;- plot_by_sale_type(\"New Sale\")\nq1_resale &lt;- plot_by_sale_type(\"Resale\")\nq1_sub_sale &lt;- plot_by_sale_type(\"Sub Sale\")\n\nq1_all_sales | q1_new_sale | q1_resale | q1_sub_sale"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#comparing-2023q1-and-2024q1-prices",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#comparing-2023q1-and-2024q1-prices",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "4.1 Comparing 2023Q1 and 2024Q1 prices",
    "text": "4.1 Comparing 2023Q1 and 2024Q1 prices\nFirst we will compare the prices between the First Quarter of 2023 and 2024. This is to compare the prices at the same time of the year.\nFor this visualization, we will use the Unit Price per Sqft (UNIT_PRICE_PSF) instead of the Transaction Price (TRANSACTED_PRICE). This is so we can more fairly compare prices with less variables involved. With Transaction Price, the size of the property needs to be considered.\nWe will use the TYPE_OF_SALE column to partition the data so we can compare the trends across the Resale, New Sale and Sub Sale markets.\n\n4.1.2 Creating the base Visualization\nFor the visualization, we will use a Raincloud Plot so that we can see the patterns in the price trends, and whether there are clusters of interest within the data set.\nWe will also add a boxplot to accompany the half-density plot so that we can see the quantiles more clearly.\nTo compare the different quarters, we will use both left side and right side visualization to compare the quarters side by side. This is inspired by a senior’s work.\nTo visualize the volumes, the 2 options are using stat_dots() or geom_jitter().\n\nRaincloud Plot w/ volume plot (chosen)Raincloud Plot w/ jitter plot (alternative)\n\n\n\n\nShow ggplot2 code\nplot_q1_yoy_psf_price &lt;- function() {\n  ggplot(\n    realis_per_unit %&gt;% filter(QUARTER %in% c(\"2023Q1\", \"2024Q1\")),\n    aes(\n      x = QUARTER,\n      y = UNIT_PRICE_PSF,\n      fill = QUARTER,\n      color = QUARTER\n    )\n  ) +\n    \n    # Generate half-density plot\n    stat_halfeye(\n      aes(\n        justification = ifelse(QUARTER == \"2023Q1\", 1.20, 0.02),\n        side = ifelse(QUARTER == \"2023Q1\", \"left\", \"right\")\n      ),\n      position = position_nudge(x = 0.1, y = 0),\n      .width = 0,\n      alpha = 0.8,\n      point_color = NA,\n      show.legend = FALSE\n    ) +\n    \n    # Generate boxplot along edge of half-density plot\n    geom_boxplot(\n      outlier.shape = NA,\n      alpha = 0.8,\n      width = .1,\n      color = \"black\",\n      show.legend = FALSE\n    ) +\n    \n    # Generate volume plots, adjusting sizing so as to not overflow into the other half\n    stat_dots(\n      aes(\n        side = ifelse(QUARTER == \"2024Q1\", \"left\", \"right\"),\n        justification = ifelse(QUARTER == \"2024Q1\", 1.10,-0.1)\n      ),\n      binwidth = 100,\n      dotsize = 0.005,\n      alpha = 0.2,\n      show.legend = FALSE\n    ) +\n    \n    # Add text about the median price\n    stat_summary(\n      aes(label = paste0(\"S$\", after_stat(y))),\n      geom = \"text\",\n      fun = \"median\",\n      position = position_nudge(y = 2500),\n      family = \"Roboto Condensed\",\n      show.legend = FALSE\n    ) +\n    \n    # Set colors and fill\n    # Keep it simple, and use bright color for 20424Q1 it is the focus of visualization\n    scale_color_manual(values = c(\"grey45\", \"blue\")) +\n    scale_fill_manual(values = c(\"grey45\", \"blue\")) +\n    labs(y = \"Unit Price Per Sqft ($)\") +\n    # Next steps will take care of theme enhancements\n    theme_minimal()\n}\n\nplot_q1_yoy_psf_price()\n\n\n\n\n\n\n\n\n\nShow ggplot2 code\nplot_q1_yoy_psf_price_alt &lt;- function() {\n  ggplot(\n    realis_per_unit %&gt;% filter(QUARTER %in% c(\"2023Q1\", \"2024Q1\")),\n    aes(\n      x = QUARTER,\n      y = UNIT_PRICE_PSF,\n      fill = QUARTER,\n      color = QUARTER\n    )\n  ) +\n    \n    # Generate half-density plot\n    stat_halfeye(\n      aes(\n        fill = QUARTER,\n        justification = ifelse(QUARTER == \"2023Q1\", 1.22, 0),\n        side = ifelse(QUARTER == \"2023Q1\", \"left\", \"right\")\n      ),\n      position = position_nudge(x = 0.1, y = 0),\n      .width = 0,\n      alpha = 0.8,\n      point_color = NA,\n      show.legend = FALSE\n    ) +\n    \n    # Generate jitter plot under the geom plot so the dots don't overpower the boxplot\n    geom_jitter(\n      width = 0.08,\n      size = 0.01,\n      alpha = 0.2,\n      show.legend = FALSE\n    ) +\n    \n    # Generate boxplot along edge of half-density plot\n    geom_boxplot(\n      outlier.shape = NA,\n      alpha = 0,\n      width = 0.1,\n      color = \"black\",\n      show.legend = FALSE\n    ) +\n    \n    # Add text about the median price\n    stat_summary(\n      aes(label = paste0(\"S$\", after_stat(y))),\n      geom = \"text\",\n      fun = \"median\",\n      position = position_nudge(y = 2500),\n      family = \"Roboto Condensed\",\n      show.legend = FALSE\n    )+\n    \n    # Set colors and fill\n    # Keep it simple, and use bright color for 20424Q1 it is the focus of visualization\n    scale_fill_manual(values = c(\"grey50\", \"blue\")) +\n    scale_color_manual(values = c(\"grey50\", \"blue\")) +\n    labs(y = \"Unit Price Per Sqft ($)\") +\n    # Next steps will take care of theme enhancements\n    theme_minimal()\n}\n\nplot_q1_yoy_psf_price_alt()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWinner: stat_dots()\n\n\n\nUsing stat_dots() is better than geom_jitter() as the purpose of providing volume information here is to accompany the half-density plot and provide a tool to compare the volume of each submarket.\nComparing the length of each horizontal line is much easier to do than comparing how dark each area is in a jitter plot.\n\n\nNow that we have the base visualization, we will generate the final visualization.\n\n\n4.1.2 Generating the visualization\nWe want to compare the 2023 and 2024 Q1 sales for different submarkets. To do this, we will use facet_wrap() on TYPE_OF_SALE.\nIn addition, we will add another facet for All Markets for the overall comparison.\nThese 2 plots will be shown side by side using patchwork.\n\n\n\n\n\n\nfacet_grid(margin = TRUE) as alternative\n\n\n\nWe can also use facet_grid(margin = TRUE) to generate a facet with all the data, instead of generating 2 separate plots.\nHowever, I would like to change the panel color for the overall plot to highlight it but I couldn’t find a way to do it within facet_grid().\n\n\n\n\nShow ggplot2 code\nq1_yoy_psf_price_submarkets_graph &lt;- plot_q1_yoy_psf_price() +\n  facet_wrap(~ TYPE_OF_SALE,\n             strip.position = \"bottom\",\n             labeller = labeller(\n               TYPE_OF_SALE = c(\n                 \"New Sale\" = \"New Sale (&lt;span style='color:brown;'&gt;**-7.6%**&lt;/span&gt;)\",\n                 \"Sub Sale\" = \"Sub Sale (&lt;span style='color:brown;'&gt;**-0.5%**&lt;/span&gt;)\",\n                 \"Resale\" = \"Resale (&lt;span style='color:darkgreen;'&gt;**+3.3%**&lt;/span&gt;)\"\n               )\n             )) +\n  theme_minimal() +\n  theme(axis.title.y = element_blank(),\n        axis.text.y = element_blank())\n\nq1_yoy_psf_price_all_markets_graph &lt;- plot_q1_yoy_psf_price() +\n  facet_wrap(~ NUMBER_OF_UNITS,\n             strip.position = \"bottom\",\n             labeller = as_labeller(function(l) {\n               \"All Markets (&lt;span style='color:darkgreen;'&gt;**+1.7%**&lt;/span&gt;)\"\n             })) +\n  labs(x = \"Transaction Price (,000 SGD)\") +\n  theme(panel.background = element_rect(fill = \"aliceblue\", linewidth =\n                                          0))\n\nviz1 &lt;- (q1_yoy_psf_price_all_markets_graph |\n           q1_yoy_psf_price_submarkets_graph) +\n  plot_layout(widths = c(1, 3)) +\n  plot_annotation(title = \"Singapore Private Property Prices by Sales Market\",\n                  subtitle = \"Overall prices slightly increased by &lt;span style='color:darkgreen;'&gt;**1.7%**&lt;/span&gt; but the New Sales market experienced &lt;span style='color:brown;'&gt;**7.6%**&lt;/span&gt; decrease.\") &\n  theme(\n    text = element_text(family = \"Roboto Condensed\"),\n    axis.line.x = element_line(),\n    axis.title.x = element_blank(),\n    axis.ticks.y = element_blank(),\n    plot.title = element_text(face = \"bold\"),\n    plot.subtitle = element_markdown(color = \"grey50\", size = rel(0.9)),\n    strip.placement = \"outside\",\n    strip.text = element_markdown(size = rel(1))\n  )\nviz1\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nAlthough there is an overall slight increase in market unit prices compared to Q1 2023, the New Sale market experienced a decrease, with notable groups in the graph. This indicates cluster of sales in certain price points, which may be influenced by factors such as developer pricing and location of New Launches.\nThe New Sales Market is composed of New Launch properties. Groups are expected to appear in the density map as new projects are expected in new estates, while less projects are expected in mature estates. According to 99.co, there are less than 10 New Launches in 2024. Prices are set by the developers so there is less variation in unit price within each project. Hence, it is expected to see groups around these New Launches. This effect is also observed to a smaller extent in the Sub Sale Market.\nIn the Resale Market, the available market is all properties that have already been turned over by developers. Price is set based on agreement between the buyer and seller, and is not limited to certain projects. Hence, there is more variation in the prices, which is why the distribution appears smoother.\n\n\nHowever, it is important to note that visualization can be very misleading especially on the New Sale Market. Generalizing that the trends when there are notable cluster may not be representative of the real state of the market.\nHence, we need to look more deeply into these groups and present it as a visualizations so it can be better understood why there are groups that formed."
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#sales-volume",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#sales-volume",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "4.2 Sales Volume",
    "text": "4.2 Sales Volume\n\n\nShow ggplot2 code\nq1 &lt;- realis_per_unit #%&gt;% filter(QUARTER %in% c(\"2023Q1\", \"2024Q1\"))\nget_sale_subset &lt;- function(type) {\n  if (type == \"All Markets\") {\n    return(q1)\n  }\n  q1 %&gt;% filter(TYPE_OF_SALE == type)\n}\nplot_volume_by_sale_type &lt;- function(type,\n                                     bg = element_blank(),\n                                     ylabel = NULL,\n                                     yaxis_text = element_blank(),\n                                     percent_change = \"\") {\n  subset = get_sale_subset(type)\n  ggplot(subset, aes(x = QUARTER, fill = QUARTER)) +\n    geom_bar(\n      aes(color = NULL),\n      alpha = 0.8,\n      show.legend = FALSE,\n      size = 0,\n      width = 0.5\n    ) +\n    ylim(c(0, 6000)) +\n    geom_text(\n      stat = \"count\",\n      aes(\n        label = after_stat(count),\n        y = after_stat(count) + 150,\n        color = QUARTER,\n        family = \"Roboto Condensed\"\n      ),\n      show.legend = FALSE\n    ) +\n    scale_fill_manual(values = c(\"darkgrey\",\"lightgrey\", \"lightgrey\",\"lightgrey\", \"blue\")) +\n    scale_color_manual(values = c(\"darkgrey\",\"lightgrey\", \"lightgrey\",\"lightgrey\", \"blue\")) +\n    # Add market and the percent change\n    labs(x = paste0(type, percent_change), y = ylabel) +\n    theme_minimal() +\n    theme(axis.text.y = yaxis_text,\n          panel.background = bg)\n}\n\n# Combine plots for visualization\n# NOTE: Ideally, the percentages are generated dynamically. However, setting the color in visualization and revising the headlines and subtitles are not straightforward to do dynamically\nq1_all_sales_vol &lt;-\n  plot_volume_by_sale_type(\n    \"All Markets\",\n    ylabel = \"No. of Sales\",\n    yaxis_text = element_text(),\n    bg = element_rect(fill = \"aliceblue\", linewidth = 0),\n    percent_change = \" (&lt;span style='color:darkgreen;'&gt;**+1.5%**&lt;/span&gt;)\"\n  )\nq1_new_sale_vol &lt;-\n  plot_volume_by_sale_type(\"New Sale\", percent_change = \" (&lt;span style='color:darkgreen;'&gt;**+15.2%**&lt;/span&gt;)\")\nq1_resale_vol &lt;-\n  plot_volume_by_sale_type(\"Resale\", percent_change = \" (&lt;span style='color:brown;'&gt;**-6.1**%&lt;/span&gt;)\")\nq1_sub_sale_vol &lt;-\n  plot_volume_by_sale_type(\"Sub Sale\", percent_change = \" (&lt;span style='color:darkgreen;'&gt;**+25.7%**&lt;/span&gt;)\")\n\n(q1_all_sales_vol |\n    q1_new_sale_vol | q1_resale_vol | q1_sub_sale_vol) +\n  #Add headline and subtitle\n  plot_annotation(title = \"Singapore Private Property Sales Volume Up 1.5% from Q1 2023 to Q1 2024.\",\n                  subtitle = \"Among the markets, **Sub Sale** showed the highest percentage growth with a &lt;span style='color:darkgreen;'&gt;**25.7%**&lt;/span&gt; increase, while the **Resale** market&lt;br/&gt;experienceda decline of &lt;span style='color:brown;'&gt;**6.1%**&lt;/span&gt;.\") &\n  # Set universal styles\n  theme(\n    text = element_text(family = \"Roboto Condensed\"),\n    plot.title = element_text(face = \"bold\", color = \"blue\"),\n    plot.subtitle = element_markdown(color = \"#464646\", size = rel(0.9)),\n    axis.title.x = element_markdown(),\n    axis.line.x = element_line(),\n    axis.ticks.y = element_blank()\n  )"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#q1-insights",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#q1-insights",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "2024 Q1 Insights",
    "text": "2024 Q1 Insights\n\nq12024 &lt;- realis_per_unit %&gt;% filter(QUARTER==\"2024Q1\")\n\nggplot(q12024, aes(x=PROPERTY_TYPE, fill=TYPE_OF_SALE)) +\n  geom_bar() +\n  coord_flip()\n\n\n\n\n\nggplot(q12024, aes(x=PROPERTY_TYPE, y=TRANSACTED_PRICE/1000, fill=PROPERTY_TYPE)) +\n  geom_violin() +\n  geom_hline(yintercept=median(q12024$TRANSACTED_PRICE)/1000, color = \"red\") +\n  geom_hline(yintercept=mean(q12024$TRANSACTED_PRICE)/1000) +\n  scale_y_log10() +\n  coord_flip()"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "",
    "text": "From exercise published on https://r4va.netlify.app/chap09\nI learned the following:\n\nDifferent ways to visualize distribution\nRidgeline plot using ggridges\nRaincloud plot using ggdists"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#loading-the-r-packages",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#loading-the-r-packages",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "2.1 Loading the R packages",
    "text": "2.1 Loading the R packages\n\npacman::p_load(tidyverse, ggdist, ggthemes, ggridges, colorspace)"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#importing-the-data",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#importing-the-data",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "2.2 Importing the data",
    "text": "2.2 Importing the data\n\nexam_df &lt;- read_csv(\"data/Exam_data.csv\")"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#histogram",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#histogram",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "3.1 Histogram",
    "text": "3.1 Histogram\n\nggplot(exam_df, aes(x=ENGLISH)) +\n  geom_histogram(color = \"#1696d2\",\n               adjust = 0.65,\n               alpha = 0.6)"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#probability-density-diagram",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#probability-density-diagram",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "3.2 Probability Density Diagram",
    "text": "3.2 Probability Density Diagram\nIt uses geom_density() from ggdist package.\n\nggplot(exam_df, aes(x=ENGLISH)) +\n  geom_density(color = \"#1696d2\",\n               adjust = 0.65,\n               alpha = 0.6,)"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#alternative-design",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#alternative-design",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "3.3 Alternative design",
    "text": "3.3 Alternative design\n\nmedian_eng &lt;- median(exam_df$ENGLISH)\nmean_eng &lt;- mean(exam_df$ENGLISH)\nstd_eng &lt;- sd(exam_df$ENGLISH)\n\nggplot(exam_df, aes(x=ENGLISH)) +\n  geom_density(color = \"#1696d2\",\n               adjust = 0.65,\n               alpha = 0.6,) +\n  stat_function(\n    fun=dnorm,\n    args = list(mean=mean_eng, sd = std_eng),\n    col = \"grey30\",\n    size = 0.8)+\n    geom_vline(aes(xintercept=mean_eng), color = \"#4d5887\", linewidth = 0.6, linetype = \"dashed\")+\n  annotate(geom = \"text\",\n           x = mean_eng - 10,\n           y = 0.04,\n           label = paste0(\"Mean ENGLISH:\", round(mean_eng), 2),\n           color = \"#4d5887\") +\n  geom_vline(aes(xintercept=median_eng), color = \"#4d5887\", linewidth = 0.6) +\n  annotate(geom = \"text\",\n           x = median_eng + 10,\n           y = 0.04,\n           label = paste0(\"Median ENGLISH:\", round(median_eng), 2),\n           color = \"#4d5887\")"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#diving-deep-into-the-2024-q1-market",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#diving-deep-into-the-2024-q1-market",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "4.3 Diving deep into the 2024 Q1 Market",
    "text": "4.3 Diving deep into the 2024 Q1 Market\n\nq12024 &lt;- realis_per_unit %&gt;% filter(QUARTER==\"2024Q1\")\n\nggplot(q12024, aes(x=PROPERTY_TYPE, fill=TYPE_OF_SALE)) +\n  geom_bar() +\n  coord_flip()\n\n\n\n\n\nggplot(q12024, aes(x=PROPERTY_TYPE, y=TRANSACTED_PRICE/1000, fill=PROPERTY_TYPE)) +\n  geom_violin() +\n  geom_hline(yintercept=median(q12024$TRANSACTED_PRICE)/1000, color = \"red\") +\n  geom_hline(yintercept=mean(q12024$TRANSACTED_PRICE)/1000) +\n  scale_y_log10() +\n  coord_flip()\n\n\n\n\n\nq1_2024_aggregated = q12024 %&gt;% group_by(TYPE_OF_SALE, PROPERTY_TYPE) %&gt;% summarize(\n  COUNT = n(),\n  MEDIAN_PRICE = median(TRANSACTED_PRICE),\n  MEAN_PRICE = mean(TRANSACTED_PRICE),\n  MIN_PRICE = min(TRANSACTED_PRICE),\n  MAX_PRICE = max(TRANSACTED_PRICE),\n)\nggplot(q1_2024_aggregated, aes(area=COUNT, fill = TYPE_OF_SALE,\n               label = TYPE_OF_SALE, subgroup = PROPERTY_TYPE)) +\n  geom_treemap()"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#plotting-ridgeline-graph-ggridges-method",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#plotting-ridgeline-graph-ggridges-method",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "4.1 Plotting ridgeline graph: ggridges method",
    "text": "4.1 Plotting ridgeline graph: ggridges method\nggridges package provides two main geom to plot gridgeline plots, they are: geom_ridgeline() and geom_density_ridges().\ngeom_ridgeline() plots the graph using the height values from the data directly. It is useful when the height values refer to a column directly.\nFor this particular dataset, it is more appropriate to use geom_density_ridges() as we need to plot the distribution of students’ English score. If we had tallied and aggregated the number of students who scores within score ranges, geom_ridgeline() might be appropriate but it isn’t the case.\n\n\nShow ggplot2 code\nggplot(exam_df, \n       aes(x = ENGLISH, \n           y = CLASS)) +\n  geom_density_ridges(\n    scale = 3,\n    rel_min_height = 0.01,\n    bandwidth = 3.4,\n    fill = lighten(\"#7097BB\", .3),\n    color = \"white\"\n  ) +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n    ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#varying-colors-along-the-x-axis",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#varying-colors-along-the-x-axis",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "4.2 Varying colors along the x-axis",
    "text": "4.2 Varying colors along the x-axis\nSometimes we would like to have the area under a ridgeline not filled with a single solid color but rather with colors that vary in some form along the x axis. This effect can be achieved by using either geom_ridgeline_gradient() or geom_density_ridges_gradient(). Both geoms work just like geom_ridgeline() and geom_density_ridges(), except that they allow for varying fill colors. However, they do not allow for alpha transparency in the fill. For technical reasons, we can have changing fill colors or transparency but not both.\nIf we need emphasize the actual values with color gradient, using colors is appropriate. However, It may not be necessary when there are fewer ridge graphs, since the farthest graph is still relatively close to the axis.\nHowever, in the plot below, it can be more easily seen that 3I scored lowest, while 3A scored the highest among the different classes. Hence, in this case, colors are really valuable.\n\n\nShow ggplot2 code\nggplot(exam_df, \n       aes(x = ENGLISH, \n           y = CLASS,\n           fill = after_stat(x))) + # changed from stat() as it is deprecated\n  geom_density_ridges_gradient(\n    scale = 3,\n    rel_min_height = 0.01) +\n  scale_fill_viridis_c(name = \"Temp. [F]\",\n                       option = \"C\") +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n  ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#mapping-the-probabilities-directly-into-color",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#mapping-the-probabilities-directly-into-color",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "4.3 Mapping the probabilities directly into color",
    "text": "4.3 Mapping the probabilities directly into color\nBeside providing additional geom objects to support the need to plot ridgeline plot, ggridges package also provides a stat function called stat_density_ridges() that replaces stat_density() of ggplot2.\nFigure below is plotted by mapping the probabilities calculated by using stat(ecdf) which represent the empirical cumulative density function for the distribution of English score.\n\n\n\n\n\n\nWe are using the probabilities from stat(ecdf) in the fill aesthetic of the plot so the probabilities affect the color fill.\n\n\n\n\n\nShow ggplot2 code\nggplot(exam_df,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = 0.5 - abs(0.5-stat(ecdf)))) +\n  stat_density_ridges(geom = \"density_ridges_gradient\", \n                      calc_ecdf = TRUE) +\n  scale_fill_viridis_c(name = \"Tail probability\",\n                       direction = -1) +\n  theme_ridges()"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#ridgeline-plots-with-quantile-lines",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#ridgeline-plots-with-quantile-lines",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "4.4 Ridgeline plots with quantile lines",
    "text": "4.4 Ridgeline plots with quantile lines\nBy using geom_density_ridges_gradient(), we can colour the ridgeline plot by quantile, via the calculated stat(quantile) aesthetic as shown in the figure below.\n\n\nShow ggplot2 code\nggplot(exam_df,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = 4,\n    quantile_lines = TRUE) +\n  scale_fill_viridis_d(name = \"Quartiles\") +\n  theme_ridges()\n\n\n\n\n\nInstead of using number to define the quantiles, we can also specify quantiles by cut points such as 2.5% and 97.5% tails to colour the ridgeline plot as shown in the figure below.\n\n\nShow ggplot2 code\nggplot(exam_df,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = c(0.025, 0.975)\n    ) +\n  scale_fill_manual(\n    name = \"Probability\",\n    values = c(\"#FF0000A0\", \"#A0A0A0A0\", \"#0000FFA0\"),\n    labels = c(\"(0, 0.025]\", \"(0.025, 0.975]\", \"(0.975, 1]\")\n  ) +\n  theme_ridges()"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#plotting-a-half-eye-plot",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#plotting-a-half-eye-plot",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "5.1 Plotting a Half-eye plot",
    "text": "5.1 Plotting a Half-eye plot\nWe will plot a Half-Eye graph by using stat_halfeye() of ggdist package.\nIt contains a half-density and slab interval graph.\n\nWith slab intervalWithout slab interval\n\n\nThe slab interval is similar to a box plot and it shows the relevant quantiles of the data.\n\n\nShow ggplot2 code\nggplot(exam_df, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2)\n\n\n\n\n\n\n\nSetting .width = 0, point_colour = NA will remove the slab interval. Slab interval may be useful for some use cases but rendering a box plot or removing it together may be more useful for visualization.\n\n\nShow ggplot2 code\nggplot(exam_df, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA)"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#adding-a-boxplot",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#adding-a-boxplot",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "5.2 Adding a boxplot",
    "text": "5.2 Adding a boxplot\nWe can replace the slab interval with a narrow boxplot. It provides more aesthetic presentation of the distribution and fills the gap between the half-eye plot and the gridlines.\n\n\nShow ggplot2 code\nggplot(exam_df, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA)"
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#adding-volume-information",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#adding-volume-information",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "5.3 Adding Volume information",
    "text": "5.3 Adding Volume information\nThe distribution plot so far gives information on the relative distribution. However, it is hard to know the absolute volume within each bin. We can use stat_dots() of ggdist package to generate this.\nWe will plot it on the same side as the half-eye plot.\n\n\nShow ggplot2 code\nggplot(exam_df, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 2)\n\n\n\n\n\nBy adding the volume dots, we can see that the Others plot actually has less observations that the other Race values, even though the curve looks taller. It reduces misinterpretation of the data."
  },
  {
    "objectID": "In-class_Exs/Ex2/In-class_Ex2.html#finishing-touches",
    "href": "In-class_Exs/Ex2/In-class_Ex2.html#finishing-touches",
    "title": "In-class Exercise 2: Visualizing distribution",
    "section": "5.4 Finishing touches",
    "text": "5.4 Finishing touches\nLastly, we can flip the coordinates and add a theme to make it more presentable.\n\nggplot(exam_df, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 1.5) +\n  coord_flip() +\n  theme_economist()"
  },
  {
    "objectID": "Take-home_Exs/Ex1/Take-home_Ex1.html#comparing-2023q1-and-2024q1-sales-volume",
    "href": "Take-home_Exs/Ex1/Take-home_Ex1.html#comparing-2023q1-and-2024q1-sales-volume",
    "title": "Take-home Exercise 1: Creating Visualization Beyond Default - Singapore Private Residential Property Market for 2024 Q1",
    "section": "4.2 Comparing 2023Q1 and 2024Q1 Sales Volume",
    "text": "4.2 Comparing 2023Q1 and 2024Q1 Sales Volume\n\n4.2.1 Understanding the groups in New Sales Market\nWe hypothesized that the groups that are present in the New Sales plot is due to the sales of newly-launched projects.\nWe will check the aggregated data by PROJECT_NAME and POSTAL_DISTRICT to verify our hypothesis that the sales are clustered by newly launched projects and their respective districts\n\nBy Project NameBy District\n\n\nWe will aggregate the number of sales and median unit price by projects. We will also add POSTAL_DISTRICT to the aggregation group as property prices depend on which district a property is in.\n\nrealis_per_unit %&gt;% filter(TYPE_OF_SALE == \"New Sale\", QUARTER == \"2024Q1\") %&gt;% \n  group_by(POSTAL_DISTRICT, PROJECT_NAME) %&gt;%\n  summarize(\n    MEDIAN_PRICE_PSF = median(UNIT_PRICE_PSF),\n    NUMBER_OF_SALES = n()\n  ) %&gt;%\n  arrange(desc(NUMBER_OF_SALES)) %&gt;%\n  head(10) %&gt;% kable(row.name = TRUE)\n\n\n\n\n\n\n\n\n\n\n\n\nPOSTAL_DISTRICT\nPROJECT_NAME\nMEDIAN_PRICE_PSF\nNUMBER_OF_SALES\n\n\n\n\n1\n26\nLENTOR MANSION\n2269.0\n409\n\n\n2\n23\nLUMINA GRAND\n1525.0\n370\n\n\n3\n23\nHILLHAVEN\n2067.0\n79\n\n\n4\n26\nLENTORIA\n2129.0\n60\n\n\n5\n23\nTHE BOTANY AT DAIRY FARM\n2019.0\n59\n\n\n6\n27\nNORTH GAIA\n1326.5\n54\n\n\n7\n12\nTHE ARCADY AT BOON KENG\n2573.5\n50\n\n\n8\n26\nLENTOR HILLS RESIDENCES\n2109.0\n49\n\n\n9\n26\nHILLOCK GREEN\n2169.0\n43\n\n\n10\n23\nTHE MYST\n2160.5\n42\n\n\n\n\n\nWe can see that 8 out of 10 projects with highest number of sales are in Districts 23 and 26. This is consistent with our previous observation that there are 2 groups in the New Sales density graph.\nFurthermore, in 99.co’s New Launches page, Lentor Mansion (D26) and Lumina Grand (D23) are the biggest projects with the highest number of units sold.\nHence, the density graph could reflected the groups that formed from the sales of properties within these 2 projects.\n\n\n\nrealis_per_unit %&gt;% filter(TYPE_OF_SALE == \"New Sale\", QUARTER == \"2024Q1\") %&gt;% \n  group_by(POSTAL_DISTRICT) %&gt;%\n  summarize(\n    MEDIAN_PRICE_PSF = median(UNIT_PRICE_PSF),\n    NUMBER_OF_SALES = n()\n  ) %&gt;%\n  arrange(desc(NUMBER_OF_SALES)) %&gt;%\n  kable(row.names = TRUE)\n\n\n\n\n\nPOSTAL_DISTRICT\nMEDIAN_PRICE_PSF\nNUMBER_OF_SALES\n\n\n\n\n1\n23\n1542.0\n576\n\n\n2\n26\n2253.0\n571\n\n\n3\n15\n2615.5\n72\n\n\n4\n21\n2453.0\n57\n\n\n5\n27\n1328.0\n56\n\n\n6\n12\n2573.0\n51\n\n\n7\n11\n3189.0\n40\n\n\n8\n10\n3307.0\n37\n\n\n9\n03\n2807.0\n31\n\n\n10\n05\n2607.5\n20\n\n\n11\n28\n2254.0\n20\n\n\n12\n16\n2091.0\n19\n\n\n13\n22\n2215.0\n17\n\n\n14\n09\n3437.5\n14\n\n\n15\n02\n2567.0\n13\n\n\n16\n07\n3234.0\n8\n\n\n17\n19\n1966.0\n7\n\n\n18\n14\n2168.0\n5\n\n\n19\n18\n1754.0\n3\n\n\n20\n04\n2548.5\n2\n\n\n21\n17\n1895.0\n2\n\n\n\n\n\nAlthough there are new units across all districts, the big, newly launched projects contributed the most to the New Sales Market.\nThis is hinted by the fact that after aggregating all property sales by district, D23 and D26 where Lumina Grand and Lentor Mansion stand out. More than 60% of sales from each of these district also come from these 2 projects.\n\n\n\nBased on the findings from this deep dive, we will visualize the sales volume by district.\n\n\n4.2.2. Creating the base visualization\nSome of the options we have to visualize the sales by district are:\n\nBar graph of number of sales for all district, or\nBar graph of number of sales for most popular districts\n\n\nAll districtsMost popular districts (chosen)\n\n\n\nplot_q1_yoy_sale_vol &lt;- function() {\nggplot(\n  realis_per_unit %&gt;% filter(QUARTER %in% c(\"2023Q1\", \"2024Q1\")),\n  aes(x = POSTAL_DISTRICT, fill = QUARTER)\n) +\n  geom_bar(position=\"dodge\", show.legend = FALSE) +\n  coord_flip() +\n  scale_fill_manual(values = c(\"grey45\", \"blue\")) +\n  theme_minimal()\n}\n\nplot_q1_yoy_sale_vol()\n\n\n\n\n\n\nThis visualization needs some pre-processing so we can determine the Top 5 most popular districts in each submarket.\n\npopular_districts &lt;- realis_per_unit %&gt;% filter(QUARTER %in% c(\"2023Q1\", \"2024Q1\")) %&gt;% \n  group_by(QUARTER, POSTAL_DISTRICT, TYPE_OF_SALE) %&gt;%\n  summarize(\n    MEDIAN_PRICE_PSF = median(UNIT_PRICE_PSF),\n    NUMBER_OF_SALES = n()\n  ) %&gt;%\n  group_by(QUARTER, TYPE_OF_SALE) %&gt;%\n  arrange(desc(NUMBER_OF_SALES)) %&gt;%\n  mutate(RANK = order(NUMBER_OF_SALES, decreasing=TRUE)) %&gt;%\n  filter(RANK &lt;= 5) %&gt;%\n  select(c(QUARTER, TYPE_OF_SALE, RANK, POSTAL_DISTRICT, NUMBER_OF_SALES, MEDIAN_PRICE_PSF)) %&gt;%\n  arrange(QUARTER)\n\nkable(popular_districts, row.names = TRUE)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQUARTER\nTYPE_OF_SALE\nRANK\nPOSTAL_DISTRICT\nNUMBER_OF_SALES\nMEDIAN_PRICE_PSF\n\n\n\n\n1\n2023Q1\nResale\n1\n19\n401\n1337.0\n\n\n2\n2023Q1\nResale\n2\n15\n260\n1830.0\n\n\n3\n2023Q1\nResale\n3\n10\n251\n2162.0\n\n\n4\n2023Q1\nResale\n4\n16\n210\n1410.5\n\n\n5\n2023Q1\nResale\n5\n23\n208\n1258.5\n\n\n6\n2023Q1\nNew Sale\n1\n10\n202\n2942.5\n\n\n7\n2023Q1\nNew Sale\n2\n23\n178\n2071.5\n\n\n8\n2023Q1\nNew Sale\n3\n18\n168\n1390.0\n\n\n9\n2023Q1\nNew Sale\n4\n16\n165\n2084.0\n\n\n10\n2023Q1\nNew Sale\n5\n09\n150\n2846.0\n\n\n11\n2023Q1\nSub Sale\n1\n19\n54\n1635.5\n\n\n12\n2023Q1\nSub Sale\n2\n14\n34\n2096.5\n\n\n13\n2023Q1\nSub Sale\n3\n13\n27\n1913.0\n\n\n14\n2023Q1\nSub Sale\n4\n18\n24\n1598.0\n\n\n15\n2023Q1\nSub Sale\n5\n05\n19\n1912.0\n\n\n16\n2024Q1\nNew Sale\n1\n23\n576\n1542.0\n\n\n17\n2024Q1\nNew Sale\n2\n26\n571\n2253.0\n\n\n18\n2024Q1\nResale\n1\n19\n429\n1448.0\n\n\n19\n2024Q1\nResale\n2\n15\n243\n1719.0\n\n\n20\n2024Q1\nResale\n3\n10\n236\n2171.5\n\n\n21\n2024Q1\nResale\n4\n23\n209\n1361.0\n\n\n22\n2024Q1\nResale\n5\n18\n182\n1350.0\n\n\n23\n2024Q1\nSub Sale\n1\n19\n94\n1771.5\n\n\n24\n2024Q1\nNew Sale\n3\n15\n72\n2615.5\n\n\n25\n2024Q1\nNew Sale\n4\n21\n57\n2453.0\n\n\n26\n2024Q1\nNew Sale\n5\n27\n56\n1328.0\n\n\n27\n2024Q1\nSub Sale\n2\n05\n53\n2061.0\n\n\n28\n2024Q1\nSub Sale\n3\n18\n49\n1694.0\n\n\n29\n2024Q1\nSub Sale\n4\n13\n20\n2044.0\n\n\n30\n2024Q1\nSub Sale\n5\n14\n14\n2051.5\n\n\n\n\n\nNow that we have this aggregated dataset, we can use this to plot the ranked data. For example, we can plot the most popular districts in the New Sales Market.\n\nggplot(popular_districts %&gt;% filter(TYPE_OF_SALE ==\"New Sale\"),\n       aes(x = reorder(RANK, -RANK), y = NUMBER_OF_SALES, fill = QUARTER))+\n  geom_bar(stat=\"identity\", position = \"dodge\", show.legend = FALSE, alpha =0.8) +\n  geom_text(aes(y = 10, hjust=0, label=paste0(\"D\", POSTAL_DISTRICT, \": \", NUMBER_OF_SALES))) +\n  coord_flip(ylim= c(0, 600)) +\n  scale_fill_manual(values = c(\"grey45\", \"blue\")) +\n  facet_wrap(~QUARTER)\n\n\n\n\nWith this visualization, we can compare the top districts from 2 quarters side by side.\n\n\n\nFrom the 2 options, plotting the Most Popular Districts is more appropriate for our use case. This is because we would like the user to recognize which districts are driving the price trends.\nWhen we plot all the districts, it is more difficult to identify by sight which districts are popular in a quarter and the other. This is because this plot has a lot of noise, which may not be that relevant to connect to the previous visualization.\n\n\n4.2.3 Generating the visualization\n\n\nShow ggplot2 code\nviz2 &lt;- ggplot(popular_districts,\n               aes(\n                 x = reorder(RANK, -RANK),\n                 y = NUMBER_OF_SALES,\n                 fill = QUARTER\n               )) +\n  geom_bar(\n    stat = \"identity\",\n    position = \"dodge\",\n    show.legend = FALSE,\n    alpha = 0.8\n  ) +\n  geom_text(aes(\n    y = 10,\n    hjust = 0,\n    label = paste0(\n      \"D\",\n      POSTAL_DISTRICT,\n      \": \",\n      NUMBER_OF_SALES,\n      \" units sold at S$\",\n      MEDIAN_PRICE_PSF,\n      \" psf\"\n    )\n  ), family = \"Roboto Condensed\") +\n  coord_flip(ylim = c(0, 600)) +\n  scale_fill_manual(values = c(\"grey45\", \"blue\")) +\n  facet_grid(TYPE_OF_SALE ~ QUARTER, switch = \"both\") +\n  theme_minimal() +\n  plot_annotation(title = \"Districts With Highest Units Sold for each Submarket\",\n                  subtitle = \"New Sale Market is heavily influenced by the newly-launched projects in **D23** (Lumina Grand) and **D26** (Lentor Mansion).\",\n                  caption = \"Prices shown are **median unit price** per sqft\") &\n  theme(\n    text = element_text(family = \"Roboto Condensed\"),\n    axis.line.x = element_line(),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    axis.text.y = element_blank(),\n    plot.title = element_text(face = \"bold\"),\n    plot.subtitle = element_markdown(color = \"grey50\", size = rel(0.9)),\n    plot.caption = element_markdown(color = \"grey50\"),\n    strip.placement = \"outside\",\n    strip.text = element_text(size = rel(1))\n  )\nviz2\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nPlotting the most popular districts for each submarket reveals that the Top 5 districts in the New Sale market, differs for the 2 quarters.\nIn 2023Q1, the distribution is more balanced and there were a lot of units sold in expensive districts like Districts 9 and 10. However, In 2024Q1, the number of units sold were skewed towards cheaper districts like Districts 23 and 26 where big projects like Lumina Grand and Lentor Mansion, respectively, were launched.\nThis is why the overall prices in the New Sale market appear to be much cheaper than the previous year, when in fact the new projects that launched are in cheaper districts.\nOn the contrary, the top districts in the Resale and Sub Sale markets have much less difference. This smaller change also resulted in a smaller impact on the overall median price in these markets."
  }
]